[
    {
        "id": "c7f14aaff9c74880",
        "type": "tab",
        "label": "Webhook",
        "disabled": false,
        "info": ""
    },
    {
        "id": "4245e320b4d6b19b",
        "type": "tab",
        "label": "Onboarding",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c9f41d59ab3a9920",
        "type": "tab",
        "label": "EditProfile",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f42b8368e3d4eac3",
        "type": "tab",
        "label": "Menu",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a0068cdd081fd68a",
        "type": "tab",
        "label": "Booking",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "0d90ae961f5c60b9",
        "type": "tab",
        "label": "Event",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a0e9a266c20ad908",
        "type": "tab",
        "label": "Renting",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e233a505cfa46b53",
        "type": "tab",
        "label": "Letters",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c6a1e1f8b3daa3fd",
        "type": "tab",
        "label": "Organization",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "52027a4e320555d6",
        "type": "tab",
        "label": "CallCenter",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "ca276633d0ab2403",
        "type": "tab",
        "label": "Test",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "36a123897fdb2173",
        "type": "subflow",
        "name": "APILogs",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 220,
                "y": 152,
                "wires": [
                    {
                        "id": "35227852aebbcd50"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 2040,
                "y": 120,
                "wires": [
                    {
                        "id": "1dbb1ad37e5b2311",
                        "port": 0
                    }
                ]
            },
            {
                "x": 2040,
                "y": 200,
                "wires": [
                    {
                        "id": "fb99e0798ce5e2a0",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#C0DEED",
        "icon": "node-red/white-globe.svg"
    },
    {
        "id": "d8567610d0e4c668",
        "type": "subflow",
        "name": "envs",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 340,
                "y": 160,
                "wires": [
                    {
                        "id": "69a29421c7c64444"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 760,
                "y": 160,
                "wires": [
                    {
                        "id": "6d1b398f65ab8ec6",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "meta": {},
        "color": "#C7E9C0"
    },
    {
        "id": "cc5971dbe7927427",
        "type": "telegram bot",
        "botname": "Natarifan1stBot",
        "usernames": "",
        "chatids": "",
        "baseapiurl": "",
        "updatemode": "polling",
        "pollinterval": "300",
        "usesocks": false,
        "sockshost": "",
        "socksport": "6667",
        "socksusername": "anonymous",
        "sockspassword": "",
        "bothost": "",
        "botpath": "",
        "localbotport": "8443",
        "publicbotport": "8443",
        "privatekey": "",
        "certificate": "",
        "useselfsignedcertificate": false,
        "sslterminated": false,
        "verboselogging": false
    },
    {
        "id": "59d6ef908215a60c",
        "type": "mongodb4-client",
        "name": "",
        "protocol": "mongodb+srv",
        "hostname": "cluster0.u8nvj.mongodb.net",
        "port": "",
        "dbName": "NatarifanDatabase2202",
        "authSource": "",
        "authMechanism": "DEFAULT",
        "tls": false,
        "tlsCAFile": "",
        "tlsInsecure": false,
        "uri": "",
        "advanced": "{\"connectTimeoutMS\": 30000}",
        "uriTabActive": "tab-uri-simple"
    },
    {
        "id": "412d4fd3e004b45f",
        "type": "http request",
        "z": "36a123897fdb2173",
        "name": "",
        "method": "use",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "senderr": false,
        "x": 1050,
        "y": 160,
        "wires": [
            [
                "5edfcfdee88c43af",
                "ed956e104fb02d41"
            ]
        ]
    },
    {
        "id": "e548e9dc8eccf812",
        "type": "function",
        "z": "36a123897fdb2173",
        "name": "check for string",
        "func": "let response = typeof msg.payload\nif (response == \"string\"){\nmsg.response = msg.payload\nmsg.payload = {}\n} else {\n  msg.response = JSON.stringify(msg.payload)\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1480,
        "y": 120,
        "wires": [
            [
                "7b4721528133dcfe"
            ]
        ]
    },
    {
        "id": "baf9fc2d20d32f8c",
        "type": "function",
        "z": "36a123897fdb2173",
        "name": "check for string",
        "func": "let response = typeof msg.payload\nif (response == \"string\"){\nmsg.response = msg.payload\nmsg.payload = {}\n} else {\n  msg.response = JSON.stringify(msg.payload)\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1480,
        "y": 200,
        "wires": [
            [
                "d33f188986a85bbc"
            ]
        ]
    },
    {
        "id": "7b4721528133dcfe",
        "type": "change",
        "z": "36a123897fdb2173",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.Log.level",
                "pt": "msg",
                "to": "info",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.Log._application",
                "pt": "msg",
                "to": "NodeRedTG",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.Log.stage",
                "pt": "msg",
                "to": "stage",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.Log.userID",
                "pt": "msg",
                "to": "req.headers[\"x-userid\"]",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.Log.traceID",
                "pt": "msg",
                "to": "req.headers[\"x-uuid\"]",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.Log.statusCode",
                "pt": "msg",
                "to": "statusCode",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.Log.outUrl",
                "pt": "msg",
                "to": "url",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.Log.request",
                "pt": "msg",
                "to": "request",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.Log.response",
                "pt": "msg",
                "to": "response",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1680,
        "y": 120,
        "wires": [
            [
                "1dbb1ad37e5b2311"
            ]
        ]
    },
    {
        "id": "d33f188986a85bbc",
        "type": "change",
        "z": "36a123897fdb2173",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.Log.level",
                "pt": "msg",
                "to": "error",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.Log._application",
                "pt": "msg",
                "to": "NodeRedTG",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.Log.stage",
                "pt": "msg",
                "to": "stage",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.Log.userID",
                "pt": "msg",
                "to": "req.headers[\"x-userid\"]",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.Log.traceID",
                "pt": "msg",
                "to": "req.headers[\"x-uuid\"]",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.Log.statusCode",
                "pt": "msg",
                "to": "statusCode",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.Log.errorCode",
                "pt": "msg",
                "to": "payload.code",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.Log.outUrl",
                "pt": "msg",
                "to": "url",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.Log.request",
                "pt": "msg",
                "to": "request",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.Log.response",
                "pt": "msg",
                "to": "response",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1670,
        "y": 200,
        "wires": [
            [
                "fb99e0798ce5e2a0"
            ]
        ]
    },
    {
        "id": "1dbb1ad37e5b2311",
        "type": "function",
        "z": "36a123897fdb2173",
        "name": "Log successfull ",
        "func": "msg.payload.Log.request = JSON.stringify(msg.payload.Log.request)\nmsg.payload.Log.timestamp = new Date()\n\nnode.log(msg.payload.Log);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1880,
        "y": 120,
        "wires": [
            [
                "0d930d2729bddc6e"
            ]
        ]
    },
    {
        "id": "fb99e0798ce5e2a0",
        "type": "function",
        "z": "36a123897fdb2173",
        "name": "Log unsuccessfull ",
        "func": "msg.payload.Log.timestamp = new Date()\nmsg.payload.Log.request = JSON.stringify(msg.payload.Log.request)\n\nnode.error(msg.payload.Log);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1890,
        "y": 200,
        "wires": [
            [
                "c3d1f99f0b9a090a"
            ]
        ]
    },
    {
        "id": "0d930d2729bddc6e",
        "type": "debug",
        "z": "36a123897fdb2173",
        "name": "Log successfull",
        "active": true,
        "tosidebar": false,
        "console": false,
        "tostatus": false,
        "complete": "payload.Log",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2100,
        "y": 40,
        "wires": []
    },
    {
        "id": "c3d1f99f0b9a090a",
        "type": "debug",
        "z": "36a123897fdb2173",
        "name": "Log unsuccessfull",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.Log",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2110,
        "y": 280,
        "wires": []
    },
    {
        "id": "5edfcfdee88c43af",
        "type": "switch",
        "z": "36a123897fdb2173",
        "name": "http code",
        "property": "statusCode",
        "propertyType": "msg",
        "rules": [
            {
                "t": "regex",
                "v": "^2",
                "vt": "str",
                "case": false
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 1220,
        "y": 160,
        "wires": [
            [
                "e548e9dc8eccf812"
            ],
            [
                "baf9fc2d20d32f8c"
            ]
        ]
    },
    {
        "id": "62cb9b88ae8b5f60",
        "type": "change",
        "z": "36a123897fdb2173",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "request.method",
                "pt": "msg",
                "to": "method",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "request.receiver",
                "pt": "msg",
                "to": "receiver",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "request.lang",
                "pt": "msg",
                "to": "lang",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "request.state",
                "pt": "msg",
                "to": "state",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "request.body",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 160,
        "wires": [
            [
                "412d4fd3e004b45f",
                "5a9dc5b5b934316e"
            ]
        ]
    },
    {
        "id": "35227852aebbcd50",
        "type": "switch",
        "z": "36a123897fdb2173",
        "name": "GET",
        "property": "method",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "GET",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 410,
        "y": 152,
        "wires": [
            [
                "6dfcccb6c478764b"
            ],
            [
                "62cb9b88ae8b5f60"
            ]
        ]
    },
    {
        "id": "6dfcccb6c478764b",
        "type": "change",
        "z": "36a123897fdb2173",
        "name": "set payload {}",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 120,
        "wires": [
            [
                "62cb9b88ae8b5f60"
            ]
        ]
    },
    {
        "id": "ed956e104fb02d41",
        "type": "debug",
        "z": "36a123897fdb2173",
        "name": "APILogs response",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1170,
        "y": 100,
        "wires": []
    },
    {
        "id": "5a9dc5b5b934316e",
        "type": "debug",
        "z": "36a123897fdb2173",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1030,
        "y": 220,
        "wires": []
    },
    {
        "id": "69a29421c7c64444",
        "type": "change",
        "z": "d8567610d0e4c668",
        "name": "set params",
        "rules": [
            {
                "t": "set",
                "p": "chatId",
                "pt": "msg",
                "to": "payload.chatId",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "originalBody",
                "pt": "msg",
                "to": "payload.originalBody",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "state",
                "pt": "msg",
                "to": "payload.customer.state",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "userID",
                "pt": "msg",
                "to": "payload.userID",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "traceID",
                "pt": "msg",
                "to": "payload.traceID",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "customer",
                "pt": "msg",
                "to": "payload.customer",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "phone",
                "pt": "msg",
                "to": "payload.customer.phone",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "botName",
                "pt": "msg",
                "to": "payload.botSettings.botName",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "channel",
                "pt": "msg",
                "to": "payload.channel",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "payload.text",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "customerSettings",
                "pt": "msg",
                "to": "payload.customer.settings",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "companyId",
                "pt": "msg",
                "to": "payload.botSettings.companyId",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "botId",
                "pt": "msg",
                "to": "payload.botSettings.botId",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 160,
        "wires": [
            [
                "6d1b398f65ab8ec6"
            ]
        ]
    },
    {
        "id": "6d1b398f65ab8ec6",
        "type": "function",
        "z": "d8567610d0e4c668",
        "name": "env",
        "func": "\nmsg.customerSettings = JSON.parse(msg.customerSettings);\nmsg.flow = msg.customerSettings.flow ? msg.customerSettings.flow : null;\n\nmsg.version = \"/v1\";\n\nmsg.messageApi = env.get(\"MESSAGES_API_URL\")+msg.version;\nmsg.messageApiKey = env.get(\"MESSAGES_API_KEY\");\nmsg.customerApi =env.get(\"CUSTOMER_API_URL\")+msg.version;\nmsg.customerApiKey = env.get(\"CUSTOMER_API_KEY\");\n\nmsg.lang = \"uk\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "df1abb1dcabd97d9",
        "type": "http in",
        "z": "c7f14aaff9c74880",
        "name": "",
        "url": "/webhook",
        "method": "post",
        "upload": false,
        "swaggerDoc": "",
        "x": 100,
        "y": 200,
        "wires": [
            [
                "28eaaf055f2d7d64",
                "d2ca2b57c09386fe",
                "7891c3b9941c860a"
            ]
        ]
    },
    {
        "id": "d2ca2b57c09386fe",
        "type": "change",
        "z": "c7f14aaff9c74880",
        "name": "set params",
        "rules": [
            {
                "t": "set",
                "p": "chatId",
                "pt": "msg",
                "to": "payload.chatId",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "originalBody",
                "pt": "msg",
                "to": "payload.originalBody",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "state",
                "pt": "msg",
                "to": "payload.customer.state",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "userID",
                "pt": "msg",
                "to": "payload.userID",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "traceID",
                "pt": "msg",
                "to": "payload.traceID",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "customer",
                "pt": "msg",
                "to": "payload.customer",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "botName",
                "pt": "msg",
                "to": "payload.botSettings.botName",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "channel",
                "pt": "msg",
                "to": "payload.channel",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "text",
                "pt": "msg",
                "to": "payload.text",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "customerSettings",
                "pt": "msg",
                "to": "payload.customer.settings",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "companyId",
                "pt": "msg",
                "to": "payload.botSettings.companyId",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "botId",
                "pt": "msg",
                "to": "payload.botSettings.botId",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "dateNow",
                "pt": "msg",
                "to": "$now()",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 200,
        "wires": [
            [
                "b358825c9fdac974"
            ]
        ]
    },
    {
        "id": "b358825c9fdac974",
        "type": "function",
        "z": "c7f14aaff9c74880",
        "name": "env",
        "func": "let userMessage;\nif (msg.payload.replyType) {\n    if (msg.payload.replyType == 'text') {\n        userMessage = msg.payload.originalBody.message;\n    } else if (msg.payload.replyType == 'callbackQuery') {\n        userMessage = msg.payload.originalBody.callback_query;\n    } else if (msg.payload.replyType == 'inlineQuery') {\n        userMessage = msg.payload.originalBody.inline_query;\n    }\n}\n\nif (userMessage) {\n    msg.firstName = userMessage.from.first_name ? userMessage.from.first_name : \" \";\n    msg.lastName = userMessage.from.last_name ? userMessage.from.last_name : \" \";\n    msg.userName = msg.firstName + ((msg.lastName && msg.lastName != \" \") ? (\" \" + msg.lastName) : '');\n}\n\nmsg.customerSettings = JSON.parse(msg.customerSettings);\nif (msg.customerSettings==null) {\n    msg.flow = null;\n} else {\n    msg.flow = msg.customerSettings.flow;\n}\n\nmsg.version = \"/v1\";\n\nmsg.messageApi = env.get(\"MESSAGES_API_URL\")+msg.version;\nmsg.messageApiKey = env.get(\"MESSAGES_API_KEY\");\nmsg.customerApi =env.get(\"CUSTOMER_API_URL\")+msg.version;\nmsg.customerApiKey = env.get(\"CUSTOMER_API_KEY\");\n\nmsg.GROUP_ID = env.get(\"GROUP_ID\");\n\nmsg.groupID = `${msg.companyId}_${msg.botId}_${msg.channel}_${msg.GROUP_ID}`;\n\nmsg.lang = \"uk\";\n\nmsg.dateNow = msg.dateNow.substring(0, 10);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 200,
        "wires": [
            [
                "b44a4ae9afa07f66"
            ]
        ]
    },
    {
        "id": "28eaaf055f2d7d64",
        "type": "change",
        "z": "c7f14aaff9c74880",
        "name": "payload ok",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "ok",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 140,
        "wires": [
            [
                "76eb9de4e9853eb2"
            ]
        ]
    },
    {
        "id": "76eb9de4e9853eb2",
        "type": "http response",
        "z": "c7f14aaff9c74880",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 490,
        "y": 140,
        "wires": []
    },
    {
        "id": "f43b214064046182",
        "type": "switch",
        "z": "c7f14aaff9c74880",
        "name": "state?",
        "property": "state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "null"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 830,
        "y": 320,
        "wires": [
            [
                "0fe25828ef856d71"
            ],
            [
                "cb3a4f47be38829b"
            ]
        ]
    },
    {
        "id": "0fe25828ef856d71",
        "type": "link out",
        "z": "c7f14aaff9c74880",
        "name": "onboardingWelcome",
        "mode": "link",
        "links": [
            "5c7580e046e790f7"
        ],
        "x": 1060,
        "y": 300,
        "wires": [],
        "l": true
    },
    {
        "id": "cb3a4f47be38829b",
        "type": "switch",
        "z": "c7f14aaff9c74880",
        "name": "flow",
        "property": "flow",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "onboarding",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "menu",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "edit",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "booking",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "event",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "callCenter",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "organization",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "letters",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 8,
        "x": 950,
        "y": 500,
        "wires": [
            [
                "ce894025bb6ce507"
            ],
            [
                "69f2ba080f069f6e"
            ],
            [
                "0d1804bc639201ce"
            ],
            [
                "a5f73a3fa45450de"
            ],
            [
                "e74a74796b3baafc"
            ],
            [
                "28ad8d07088e8e3c"
            ],
            [
                "c2f67495c4e995d2"
            ],
            [
                "49cf488ccfeee6be"
            ]
        ]
    },
    {
        "id": "ce894025bb6ce507",
        "type": "link out",
        "z": "c7f14aaff9c74880",
        "name": "onboarding",
        "mode": "link",
        "links": [
            "8bbe5a6340e0b182"
        ],
        "x": 1150,
        "y": 360,
        "wires": [],
        "l": true
    },
    {
        "id": "7891c3b9941c860a",
        "type": "debug",
        "z": "c7f14aaff9c74880",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 450,
        "y": 340,
        "wires": []
    },
    {
        "id": "b44a4ae9afa07f66",
        "type": "switch",
        "z": "c7f14aaff9c74880",
        "name": "",
        "property": "text",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Меню",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Редагувати профіль",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 550,
        "y": 200,
        "wires": [
            [
                "b22af02e37f6def6"
            ],
            [
                "7806fe4b7c7ca789"
            ],
            [
                "a9a452826451d71d"
            ]
        ]
    },
    {
        "id": "b22af02e37f6def6",
        "type": "link out",
        "z": "c7f14aaff9c74880",
        "name": "menuKeyboard",
        "mode": "link",
        "links": [
            "6195e2448867dd5f",
            "d4b4300962fa516b"
        ],
        "x": 740,
        "y": 80,
        "wires": [],
        "l": true
    },
    {
        "id": "69f2ba080f069f6e",
        "type": "link out",
        "z": "c7f14aaff9c74880",
        "name": "menu",
        "mode": "link",
        "links": [
            "df8675f64f75d5df",
            "21d26fb9c47726d5"
        ],
        "x": 1130,
        "y": 400,
        "wires": [],
        "l": true
    },
    {
        "id": "7806fe4b7c7ca789",
        "type": "link out",
        "z": "c7f14aaff9c74880",
        "name": "editKeyboard",
        "mode": "link",
        "links": [
            "f426e99fb4d64e54",
            "8f4703e4c3e2a010"
        ],
        "x": 730,
        "y": 120,
        "wires": [],
        "l": true
    },
    {
        "id": "0d1804bc639201ce",
        "type": "link out",
        "z": "c7f14aaff9c74880",
        "name": "editProfile",
        "mode": "link",
        "links": [
            "47111aec7c2a37e4",
            "adf87283889eb5b1"
        ],
        "x": 1140,
        "y": 440,
        "wires": [],
        "l": true
    },
    {
        "id": "a5f73a3fa45450de",
        "type": "link out",
        "z": "c7f14aaff9c74880",
        "name": "booking",
        "mode": "link",
        "links": [
            "67e6b652994246b2",
            "cbf1263e4c786db2"
        ],
        "x": 1140,
        "y": 480,
        "wires": [],
        "l": true
    },
    {
        "id": "e74a74796b3baafc",
        "type": "link out",
        "z": "c7f14aaff9c74880",
        "name": "event",
        "mode": "link",
        "links": [
            "4d3d6b0ac00525d8",
            "85930d66c72bc71f"
        ],
        "x": 1130,
        "y": 520,
        "wires": [],
        "l": true
    },
    {
        "id": "28ad8d07088e8e3c",
        "type": "link out",
        "z": "c7f14aaff9c74880",
        "name": "callCenter",
        "mode": "link",
        "links": [
            "4c6389884ba59976",
            "a06ce725aadae250"
        ],
        "x": 1140,
        "y": 560,
        "wires": [],
        "l": true
    },
    {
        "id": "a9a452826451d71d",
        "type": "switch",
        "z": "c7f14aaff9c74880",
        "name": "chat type",
        "property": "originalBody.message.chat.type",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "group",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 680,
        "y": 260,
        "wires": [
            [
                "5c24b52c26b32fb1"
            ],
            [
                "f43b214064046182"
            ]
        ]
    },
    {
        "id": "5c24b52c26b32fb1",
        "type": "link out",
        "z": "c7f14aaff9c74880",
        "name": "callCenter",
        "mode": "link",
        "links": [
            "d0063468f2cc3731",
            "1ca018f8fc02e5a1"
        ],
        "x": 830,
        "y": 200,
        "wires": [],
        "l": true
    },
    {
        "id": "c2f67495c4e995d2",
        "type": "link out",
        "z": "c7f14aaff9c74880",
        "name": "organization",
        "mode": "link",
        "links": [
            "26f76163d488f199",
            "00520bb948ad06d3"
        ],
        "x": 1150,
        "y": 600,
        "wires": [],
        "l": true
    },
    {
        "id": "49cf488ccfeee6be",
        "type": "link out",
        "z": "c7f14aaff9c74880",
        "name": "letters",
        "mode": "link",
        "links": [
            "b6e328dc3ba84934",
            "8826bbc4030d689e"
        ],
        "x": 1130,
        "y": 640,
        "wires": [],
        "l": true
    },
    {
        "id": "5c7580e046e790f7",
        "type": "link in",
        "z": "4245e320b4d6b19b",
        "name": "webhook",
        "links": [
            "0fe25828ef856d71"
        ],
        "x": 240,
        "y": 80,
        "wires": [
            [
                "3be5608b61f8bd9d"
            ]
        ],
        "l": true
    },
    {
        "id": "3be5608b61f8bd9d",
        "type": "function",
        "z": "4245e320b4d6b19b",
        "name": "post flow",
        "func": "msg.service = \"CustomerAPI\"\n\nmsg.method = \"POST\"\nmsg.url = `${msg.customerApi}/settings`;\nmsg.headers = {\n    'authorization': msg.customerApiKey,\n    'x-trace-id': msg.traceID,\n    'x-user-id': msg.userID\n}\n\nmsg.payload = {\n    \"flow\": \"onboarding\"\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 80,
        "wires": [
            [
                "ed5d150cb8c913ea"
            ]
        ]
    },
    {
        "id": "ed5d150cb8c913ea",
        "type": "subflow:36a123897fdb2173",
        "z": "4245e320b4d6b19b",
        "name": "",
        "env": [],
        "x": 560,
        "y": 80,
        "wires": [
            [
                "bee16c4a7cdb29b2"
            ],
            []
        ]
    },
    {
        "id": "8bbe5a6340e0b182",
        "type": "link in",
        "z": "4245e320b4d6b19b",
        "name": " webhook",
        "links": [
            "ffdf71a6eb5877b4",
            "ce894025bb6ce507"
        ],
        "x": 240,
        "y": 280,
        "wires": [
            [
                "b098530613d1246f"
            ]
        ],
        "l": true
    },
    {
        "id": "b098530613d1246f",
        "type": "switch",
        "z": "4245e320b4d6b19b",
        "name": "check state",
        "property": "state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "askFirstName",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "askLastName",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "askPhone",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 4,
        "x": 410,
        "y": 320,
        "wires": [
            [
                "32a80acaef60f04c"
            ],
            [
                "a140c338444315f0"
            ],
            [
                "b1808c053f607d6c"
            ],
            [
                "62f7337e4e691771"
            ]
        ]
    },
    {
        "id": "bee16c4a7cdb29b2",
        "type": "send-message",
        "z": "4245e320b4d6b19b",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "welcome",
        "props": {
            "welcome": []
        },
        "templateId": "welcome",
        "templateIdToDelete": "",
        "templatesJsons": {
            "welcome": {
                "text": "{{text}}",
                "uk": {
                    "text": "Привіт! Я станичний бот Пласту у Львові!"
                }
            }
        },
        "templatesList": [
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "emailError",
            "firstNameError",
            "lastNameError",
            "mainKeyboard",
            "phoneError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Приветствие",
        "templateDesciptionTextToCreate": "Привіт! Я станичний бот Пласту у Львові!",
        "templateIdToCreate": "welcome",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Приветствие",
            "text": "Привіт! Я станичний бот Пласту у Львові!fkljfjgklfjgkdlfjgkfdlgjfdkl"
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Привіт! Я станичний бот Пласту у Львові!\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "welcome",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Приветствие",
        "templateDesciptionTextToEdit": "Привіт! Я станичний бот Пласту у Львові!fkljfjgklfjgkdlfjgkfdlgjfdkl",
        "x": 740,
        "y": 80,
        "wires": [
            [
                "a8ca017a93c80eee"
            ],
            [],
            []
        ]
    },
    {
        "id": "a8ca017a93c80eee",
        "type": "send-message",
        "z": "4245e320b4d6b19b",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "welcome2",
        "props": {
            "welcome2": []
        },
        "templateId": "welcome2",
        "templateIdToDelete": "",
        "templatesJsons": {
            "welcome2": {
                "text": "{{text}}",
                "uk": {
                    "text": "Щоб усі твої запити було простіше обробляти пропоную тобі зареєструватись."
                }
            }
        },
        "templatesList": [
            "askName",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Приветствие2",
        "templateDesciptionTextToCreate": "Щоб усі твої запити було простіше обробляти пропоную тобі зареєструватись.",
        "templateIdToCreate": "welcome2",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Приветствие2",
            "text": "Щоб усі твої запити було простіше обробляти пропоную тобі зареєструватись."
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Щоб усі твої запити було простіше обробляти пропоную тобі зареєструватись.\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "welcome2",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Приветствие2",
        "templateDesciptionTextToEdit": "Щоб усі твої запити було простіше обробляти пропоную тобі зареєструватись.",
        "x": 920,
        "y": 80,
        "wires": [
            [
                "9136c351f560198a"
            ],
            [],
            []
        ]
    },
    {
        "id": "9136c351f560198a",
        "type": "send-message",
        "z": "4245e320b4d6b19b",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "askFirstName",
        "props": {
            "welcome2": [],
            "askName": [],
            "askFirstName": []
        },
        "templateId": "askFirstName",
        "templateIdToDelete": "",
        "templatesJsons": {
            "welcome2": {
                "text": "{{text}}",
                "uk": {
                    "text": "{{text}}"
                }
            },
            "askFirstName": {
                "text": "{{text}}",
                "uk": {
                    "text": "Будь ласка, введи своє ім'я"
                }
            }
        },
        "templatesList": [
            "askFirstName",
            "askLastName",
            "askPhone",
            "firstNameError",
            "lastNameError",
            "phoneError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Запрос имени",
        "templateDesciptionTextToCreate": "Будь ласка, введи своє ім'я.",
        "templateIdToCreate": "askFirstName",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Запрос имени",
            "text": "Будь ласка, введи своє ім'я"
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Будь ласка, введи своє ім'я\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "askFirstName",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Запрос имени",
        "templateDesciptionTextToEdit": "Будь ласка, введи своє ім'я",
        "x": 1400,
        "y": 160,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "32a80acaef60f04c",
        "type": "function",
        "z": "4245e320b4d6b19b",
        "name": "firstName!Valid",
        "func": "if ((/^[А-Яа-яёЁЇїІіЄєҐґ]|[A-Za-z]$/.test(msg.text))==true) {\n    msg.service = \"CustomerAPI\"\n    msg.method = \"PUT\"\n    msg.url = `${msg.customerApi}/customers`;\n    msg.headers = {\n        'authorization': msg.customerApiKey,\n        'x-trace-id': msg.traceID,\n        'x-user-id': msg.userID\n    }\n    msg.payload = {\n        \"firstName\": msg.text\n    }\n    return [null, msg];\n} else {\n    return msg;\n    }\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 220,
        "wires": [
            [
                "a4a0a9c0c8f92a37"
            ],
            [
                "2485e75a1988cade"
            ]
        ]
    },
    {
        "id": "a4a0a9c0c8f92a37",
        "type": "send-message",
        "z": "4245e320b4d6b19b",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "firstNameError",
        "props": {
            "firstNameError": []
        },
        "templateId": "firstNameError",
        "templateIdToDelete": "",
        "templatesJsons": {
            "firstNameError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на ім'я"
                }
            }
        },
        "templatesList": [
            "askFirstName",
            "askLastName",
            "firstNameError",
            "lastNameError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Ошибка в имени",
        "templateDesciptionTextToCreate": "Це не схоже на ім'я. Спробуйте ще раз",
        "templateIdToCreate": "firstNameError",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Ошибка в имени",
            "text": "Це не схоже на ім'я"
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Це не схоже на ім'я\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "firstNameError",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Ошибка в имени",
        "templateDesciptionTextToEdit": "Це не схоже на ім'я",
        "x": 840,
        "y": 180,
        "wires": [
            [
                "9136c351f560198a"
            ],
            [],
            []
        ]
    },
    {
        "id": "2485e75a1988cade",
        "type": "subflow:36a123897fdb2173",
        "z": "4245e320b4d6b19b",
        "name": "",
        "env": [],
        "x": 820,
        "y": 220,
        "wires": [
            [
                "bbb627d76b9cd261"
            ],
            []
        ]
    },
    {
        "id": "bbb627d76b9cd261",
        "type": "send-message",
        "z": "4245e320b4d6b19b",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "askLastName",
        "props": {
            "welcome2": [],
            "askName": [],
            "askFirstName": [],
            "askLastName": []
        },
        "templateId": "askLastName",
        "templateIdToDelete": "",
        "templatesJsons": {
            "welcome2": {
                "text": "{{text}}",
                "uk": {
                    "text": "{{text}}"
                }
            },
            "askLastName": {
                "text": "{{text}}",
                "uk": {
                    "text": "Твоя фамілія"
                }
            }
        },
        "templatesList": [
            "askFirstName",
            "askLastName",
            "askPhone",
            "firstNameError",
            "lastNameError",
            "phoneError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Запрос фамилии",
        "templateDesciptionTextToCreate": "Будь ласка, введи свою фамілію.",
        "templateIdToCreate": "askLastName",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Запрос фамилии",
            "text": "Твоя фамілія"
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Твоя фамілія\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "askLastName",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Запрос фамилии",
        "templateDesciptionTextToEdit": "Твоя фамілія",
        "x": 1040,
        "y": 220,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "a140c338444315f0",
        "type": "function",
        "z": "4245e320b4d6b19b",
        "name": "lastName!Valid",
        "func": "if ((/^[А-Яа-яёЁЇїІіЄєҐґ]|[A-Za-z]$/.test(msg.text))==true) {\n    msg.service = \"CustomerAPI\"\n    msg.method = \"PUT\"\n    msg.url = `${msg.customerApi}/customers`;\n    msg.headers = {\n        'authorization': msg.customerApiKey,\n        'x-trace-id': msg.traceID,\n        'x-user-id': msg.userID\n    }\n    msg.payload = {\n        \"lastName\": msg.text\n    }\n    return [null, msg];\n} else {\n    return msg;\n    }\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 300,
        "wires": [
            [
                "0bf03a1503e9db55"
            ],
            [
                "7fac26755174a625"
            ]
        ]
    },
    {
        "id": "0bf03a1503e9db55",
        "type": "send-message",
        "z": "4245e320b4d6b19b",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "lastNameError",
        "props": {
            "firstNameError": [],
            "lastNameError": []
        },
        "templateId": "lastNameError",
        "templateIdToDelete": "",
        "templatesJsons": {
            "firstNameError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на ім'я."
                }
            },
            "lastNameError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на фамілію"
                }
            }
        },
        "templatesList": [
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "emailError",
            "firstNameError",
            "lastNameError",
            "phoneError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Ошибка в фамилии",
        "templateDesciptionTextToCreate": "Це не схоже на фамілію",
        "templateIdToCreate": "lastNameError",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Ошибка в фамилии",
            "text": "Це не схоже на фамілію"
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Це не схоже на фамілію\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "lastNameError",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Ошибка в фамилии",
        "templateDesciptionTextToEdit": "Це не схоже на фамілію",
        "x": 840,
        "y": 260,
        "wires": [
            [
                "bbb627d76b9cd261"
            ],
            [],
            []
        ]
    },
    {
        "id": "7fac26755174a625",
        "type": "subflow:36a123897fdb2173",
        "z": "4245e320b4d6b19b",
        "name": "",
        "env": [],
        "x": 820,
        "y": 300,
        "wires": [
            [
                "ab1e39e4c23192d8"
            ],
            []
        ]
    },
    {
        "id": "ab1e39e4c23192d8",
        "type": "send-message",
        "z": "4245e320b4d6b19b",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "askPhone",
        "props": {
            "welcome2": [],
            "askName": [],
            "askFirstName": [],
            "askLastName": [],
            "askPhone": []
        },
        "templateId": "askPhone",
        "templateIdToDelete": "",
        "templatesJsons": {
            "welcome2": {
                "text": "{{text}}",
                "uk": {
                    "text": "{{text}}"
                }
            },
            "askLastName": {
                "text": "{{text}}",
                "uk": {
                    "text": "Будь ласка, введи свою фамілію."
                }
            },
            "askPhone": {
                "text": "{{text}}",
                "uk": {
                    "text": "Твій номер телефону"
                }
            }
        },
        "templatesList": [
            "askFirstName",
            "askLastName",
            "askPhone",
            "emailError",
            "firstNameError",
            "lastNameError",
            "phoneError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Твій номер телефону\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Запрос номера телефона",
        "templateDesciptionTextToCreate": "Твій номер телефону",
        "templateIdToCreate": "askPhone",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Запрос номера телефона",
            "text": "Твій номер телефону"
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"keyboard\":[[{\"request_contact\":true,\"text\":\"{{button}}\"}]],\"uk\":{\"text\":\"Твій номер телефону\",\"button1\":\"Ввести\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "askPhone",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Запрос номера телефона",
        "templateDesciptionTextToEdit": "Твій номер телефону",
        "x": 1020,
        "y": 300,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "b1808c053f607d6c",
        "type": "function",
        "z": "4245e320b4d6b19b",
        "name": "phone!Valid",
        "func": "if (/^(([0-9]{2})|([0-9]{3}))?[0-9]{10}$/.test(msg.text.replace(/\\D/g,''))) {\n    msg.service = \"CustomerAPI\"\n    msg.method = \"PUT\"\n    msg.url = `${msg.customerApi}/customers`;\n    msg.headers = {\n        'authorization': msg.customerApiKey,\n        'x-trace-id': msg.traceID,\n        'x-user-id': msg.userID\n    }\n    msg.payload = {\n        \"phone\": msg.text\n    }\n    return [null, msg];\n}\n    return msg;\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 380,
        "wires": [
            [
                "939792ad7dac43fe"
            ],
            [
                "b8782470bd35d588"
            ]
        ]
    },
    {
        "id": "62f7337e4e691771",
        "type": "function",
        "z": "4245e320b4d6b19b",
        "name": "email!Valid",
        "func": "if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(msg.text)) {\n    msg.service = \"CustomerAPI\"\n    msg.method = \"PUT\"\n    msg.url = `${msg.customerApi}/customers`;\n    msg.headers = {\n        'authorization': msg.customerApiKey,\n        'x-trace-id': msg.traceID,\n        'x-user-id': msg.userID\n    }\n    msg.payload = {\n        \"email\": msg.text\n    }\n   return [null, msg];\n}\nreturn msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 460,
        "wires": [
            [
                "ae3b73cc40c77f96"
            ],
            [
                "66bdd5b4dae9dbfd"
            ]
        ]
    },
    {
        "id": "b8782470bd35d588",
        "type": "subflow:36a123897fdb2173",
        "z": "4245e320b4d6b19b",
        "name": "",
        "env": [],
        "x": 820,
        "y": 380,
        "wires": [
            [
                "a06cf8f5a913c83a"
            ],
            []
        ]
    },
    {
        "id": "939792ad7dac43fe",
        "type": "send-message",
        "z": "4245e320b4d6b19b",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "phoneError",
        "props": {
            "firstNameError": [],
            "lastNameError": [],
            "phoneError": []
        },
        "templateId": "phoneError",
        "templateIdToDelete": "",
        "templatesJsons": {
            "firstNameError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на ім'я."
                }
            },
            "lastNameError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на фамілію"
                }
            },
            "phoneError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на номер телефону"
                }
            }
        },
        "templatesList": [
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "emailError",
            "firstNameError",
            "lastNameError",
            "phoneError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Ошибка в номере телефона",
        "templateDesciptionTextToCreate": "Це не схоже на номер телефону",
        "templateIdToCreate": "phoneError",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Ошибка в номере телефона",
            "text": "Це не схоже на номер телефону"
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Це не схоже на номер телефону\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "phoneError",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Ошибка в номере телефона",
        "templateDesciptionTextToEdit": "Це не схоже на номер телефону",
        "x": 830,
        "y": 340,
        "wires": [
            [
                "ab1e39e4c23192d8"
            ],
            [],
            []
        ]
    },
    {
        "id": "a06cf8f5a913c83a",
        "type": "send-message",
        "z": "4245e320b4d6b19b",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "askEmail",
        "props": {
            "welcome2": [],
            "askName": [],
            "askFirstName": [],
            "askLastName": [],
            "askPhone": [
                {
                    "property": "button",
                    "value": "payload",
                    "valueType": "msg"
                }
            ],
            "askEmail": []
        },
        "templateId": "askEmail",
        "templateIdToDelete": "",
        "templatesJsons": {
            "welcome2": {
                "text": "{{text}}",
                "uk": {
                    "text": "{{text}}"
                }
            },
            "askLastName": {
                "text": "{{text}}",
                "uk": {
                    "text": "Будь ласка, введи свою фамілію."
                }
            },
            "askPhone": {
                "text": "{{text}}",
                "keyboard": [
                    [
                        {
                            "request_contact": true,
                            "text": "{{button}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Будь ласка, введи свій телефон",
                    "button1": "Телефон"
                }
            },
            "askEmail": {
                "text": "{{text}}",
                "uk": {
                    "text": "Твоя електронна пошта"
                }
            }
        },
        "templatesList": [
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "emailError",
            "firstNameError",
            "lastNameError",
            "phoneError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Твоя електронна пошта\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Запрос електронной почты",
        "templateDesciptionTextToCreate": "Твоя електронна пошта",
        "templateIdToCreate": "askEmail",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Запрос електронной почты",
            "text": "Твоя електронна пошта"
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Будь ласка, введи свою фамілію.\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "askLastName",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Запрос фамилии",
        "templateDesciptionTextToEdit": "Будь ласка, введи свою фамілію.",
        "x": 1020,
        "y": 380,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "ae3b73cc40c77f96",
        "type": "send-message",
        "z": "4245e320b4d6b19b",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "emailError",
        "props": {
            "firstNameError": [],
            "lastNameError": [],
            "phoneError": [],
            "emailError": []
        },
        "templateId": "emailError",
        "templateIdToDelete": "",
        "templatesJsons": {
            "firstNameError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на ім'я."
                }
            },
            "lastNameError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на фамілію"
                }
            },
            "phoneError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на номер телефону"
                }
            },
            "emailError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на електронну пошту"
                }
            }
        },
        "templatesList": [
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "emailError",
            "firstNameError",
            "lastNameError",
            "phoneError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Ошибка в електронной почте",
        "templateDesciptionTextToCreate": "Це не схоже на електронну пошту",
        "templateIdToCreate": "emailError",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Ошибка в електронной почте",
            "text": "Це не схоже на електронну пошту"
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Це не схоже на електронну пошту\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "emailError",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Ошибка в електронной почте",
        "templateDesciptionTextToEdit": "Це не схоже на електронну пошту",
        "x": 830,
        "y": 420,
        "wires": [
            [
                "a06cf8f5a913c83a"
            ],
            [],
            []
        ]
    },
    {
        "id": "66bdd5b4dae9dbfd",
        "type": "subflow:36a123897fdb2173",
        "z": "4245e320b4d6b19b",
        "name": "",
        "env": [],
        "x": 820,
        "y": 460,
        "wires": [
            [
                "2985c23e01569bf4"
            ],
            []
        ]
    },
    {
        "id": "2985c23e01569bf4",
        "type": "link out",
        "z": "4245e320b4d6b19b",
        "name": "mainMenu",
        "mode": "link",
        "links": [
            "7fd4efd72658ff5f",
            "49fefdc7990a8007"
        ],
        "x": 1030,
        "y": 460,
        "wires": [],
        "l": true
    },
    {
        "id": "8f4703e4c3e2a010",
        "type": "link in",
        "z": "c9f41d59ab3a9920",
        "name": "",
        "links": [
            "7806fe4b7c7ca789"
        ],
        "x": 185,
        "y": 120,
        "wires": [
            [
                "05febd41ac2a5913"
            ]
        ]
    },
    {
        "id": "05febd41ac2a5913",
        "type": "send-message",
        "z": "c9f41d59ab3a9920",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "editingKeyboard",
        "props": {
            "editingKeyboard": []
        },
        "templateId": "editingKeyboard",
        "templateIdToDelete": "",
        "templatesJsons": {
            "editingKeyboard": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        },
                        {
                            "callback_data": "{{callback2}}",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback3}}",
                            "text": "{{callbackText3}}"
                        },
                        {
                            "callback_data": "{{callback4}}",
                            "text": "{{callbackText4}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Що редагуємо?",
                    "callback1": "firstName",
                    "callback2": "lastName",
                    "callback3": "phone",
                    "callback4": "email",
                    "callbackText1": "Ім'я",
                    "callbackText2": "Фамілію",
                    "callbackText3": "Телефон",
                    "callbackText4": "Електронну адресу"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterMessage",
            "callCenterReply",
            "editingKeyboard",
            "emailError",
            "eventAction",
            "eventKeyboard",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "lettersKeyboard",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "schoolLetter",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"inline\":[[{\"callback_data\":\"{{callback1}}\",\"text\":\"{{callbackText1}}\"},{\"callback_data\":\"{{callback2}}\",\"text\":\"{{callbackText2}}\"}],[{\"callback_data\":\"{{callback3}}\",\"text\":\"{{callbackText3}}\"},{\"callback_data\":\"{{callback4}}\",\"text\":\"{{callbackText4}}\"}]],\"uk\":{\"text\":\"Що редагуємо?\",\"callback1\":\"firstName\",\"callback2\":\"lastName\",\"callback3\":\"phone\",\"callback4\":\"email\",\"callbackText1\":\"Ім'я\",\"callbackText2\":\"Фамілію\",\"callbackText3\":\"Телефон\",\"callbackText4\":\"Електронну адресу\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Клавиатура редактирования профиля",
        "templateDesciptionTextToCreate": "Що редагуємо?",
        "templateIdToCreate": "editingKeyboard",
        "templateGroupToCreate": "edit",
        "currentTemplateDescription": {
            "details": "Клавиатура редактирования профиля",
            "text": "Що редагуємо?"
        },
        "currentTemplateGroup": "edit",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"callback_data\":\"{{callback1}}\",\"text\":\"{{callbackText1}}\"},{\"callback_data\":\"{{callback2}}\",\"text\":\"{{callbackText2}}\"}],[{\"callback_data\":\"{{callback3}}\",\"text\":\"{{callbackText3}}\"},{\"callback_data\":\"{{callback4}}\",\"text\":\"{{callbackText4}}\"}]],\"uk\":{\"text\":\"Що редагуємо?\",\"callback1\":\"firstName\",\"callback2\":\"lastName\",\"callback3\":\"phone\",\"callback4\":\"email\",\"callbackText1\":\"Ім'я\",\"callbackText2\":\"Фамілію\",\"callbackText3\":\"Телефон\",\"callbackText4\":\"Електронну адресу\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "editingKeyboard",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Клавиатура редактирования профиля",
        "templateDesciptionTextToEdit": "Що редагуємо?",
        "x": 360,
        "y": 120,
        "wires": [
            [
                "9c24451977fa965d"
            ],
            [],
            []
        ]
    },
    {
        "id": "9c24451977fa965d",
        "type": "function",
        "z": "c9f41d59ab3a9920",
        "name": "post flow",
        "func": "msg.service = \"CustomerAPI\"\n\nmsg.method = \"POST\"\nmsg.url = `${msg.customerApi}/settings`;\nmsg.headers = {\n    'authorization': msg.customerApiKey,\n    'x-trace-id': msg.traceID,\n    'x-user-id': msg.userID\n}\n\nmsg.payload = {\n    \"flow\": \"edit\"\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 120,
        "wires": [
            [
                "2b9a1d93bcd5b429"
            ]
        ]
    },
    {
        "id": "2b9a1d93bcd5b429",
        "type": "subflow:36a123897fdb2173",
        "z": "c9f41d59ab3a9920",
        "name": "",
        "env": [],
        "x": 720,
        "y": 120,
        "wires": [
            [
                "c3f73cdedb60806a"
            ],
            []
        ]
    },
    {
        "id": "c3f73cdedb60806a",
        "type": "function",
        "z": "c9f41d59ab3a9920",
        "name": "put state",
        "func": "msg.service = \"CustomerAPI\"\nmsg.method = \"PUT\"\nmsg.url = `${msg.customerApi}/customers`;\nmsg.headers = {\n    'authorization': msg.customerApiKey,\n    'x-trace-id': msg.traceID,\n    'x-user-id': msg.userID\n}\n\nmsg.payload = {\n    \"state\": \"edit\"\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 120,
        "wires": [
            [
                "3eca4449a36f1631"
            ]
        ]
    },
    {
        "id": "3eca4449a36f1631",
        "type": "subflow:36a123897fdb2173",
        "z": "c9f41d59ab3a9920",
        "name": "",
        "env": [],
        "x": 1040,
        "y": 120,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "513fcf8058a11814",
        "type": "send-message",
        "z": "c9f41d59ab3a9920",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "askFirstName",
        "props": {
            "welcome2": [],
            "askName": [],
            "askFirstName": []
        },
        "templateId": "askFirstName",
        "templateIdToDelete": "",
        "templatesJsons": {
            "welcome2": {
                "text": "{{text}}",
                "uk": {
                    "text": "{{text}}"
                }
            },
            "askFirstName": {
                "text": "{{text}}",
                "uk": {
                    "text": "Будь ласка, введи своє ім'я"
                }
            }
        },
        "templatesList": [
            "askFirstName",
            "askLastName",
            "askPhone",
            "firstNameError",
            "lastNameError",
            "phoneError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Запрос имени",
        "templateDesciptionTextToCreate": "Будь ласка, введи своє ім'я.",
        "templateIdToCreate": "askFirstName",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Запрос имени",
            "text": "Будь ласка, введи своє ім'я"
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Будь ласка, введи своє ім'я\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "askFirstName",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Запрос имени",
        "templateDesciptionTextToEdit": "Будь ласка, введи своє ім'я",
        "x": 1160,
        "y": 580,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "b52b2f982306e613",
        "type": "function",
        "z": "c9f41d59ab3a9920",
        "name": "firstName!Valid",
        "func": "if ((/^[А-Яа-яёЁЇїІіЄєҐґ]|[A-Za-z]$/.test(msg.text))==true) {\n    msg.service = \"CustomerAPI\"\n    msg.method = \"PUT\"\n    msg.url = `${msg.customerApi}/customers`;\n    msg.headers = {\n        'authorization': msg.customerApiKey,\n        'x-trace-id': msg.traceID,\n        'x-user-id': msg.userID\n    }\n    msg.payload = {\n        \"firstName\": msg.text\n    }\n    return [null, msg];\n} else {\n    return msg;\n    }\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 260,
        "wires": [
            [
                "569034b1117adfca"
            ],
            [
                "ad0464bae96aa518"
            ]
        ]
    },
    {
        "id": "569034b1117adfca",
        "type": "send-message",
        "z": "c9f41d59ab3a9920",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "firstNameError",
        "props": {
            "firstNameError": []
        },
        "templateId": "firstNameError",
        "templateIdToDelete": "",
        "templatesJsons": {
            "firstNameError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на ім'я"
                }
            }
        },
        "templatesList": [
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "editingKeyboard",
            "emailError",
            "firstNameError",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "other",
            "phoneError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Ошибка в имени",
        "templateDesciptionTextToCreate": "Це не схоже на ім'я. Спробуйте ще раз",
        "templateIdToCreate": "firstNameError",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Ошибка в имени",
            "text": "Це не схоже на ім'я"
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Це не схоже на ім'я\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "firstNameError",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Ошибка в имени",
        "templateDesciptionTextToEdit": "Це не схоже на ім'я",
        "x": 820,
        "y": 220,
        "wires": [
            [
                "513fcf8058a11814"
            ],
            [],
            []
        ]
    },
    {
        "id": "ad0464bae96aa518",
        "type": "subflow:36a123897fdb2173",
        "z": "c9f41d59ab3a9920",
        "name": "",
        "env": [],
        "x": 800,
        "y": 260,
        "wires": [
            [
                "42c0a6e003220cf9"
            ],
            []
        ]
    },
    {
        "id": "1cb07b2f5365ce50",
        "type": "send-message",
        "z": "c9f41d59ab3a9920",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "askLastName",
        "props": {
            "welcome2": [],
            "askName": [],
            "askFirstName": [],
            "askLastName": []
        },
        "templateId": "askLastName",
        "templateIdToDelete": "",
        "templatesJsons": {
            "welcome2": {
                "text": "{{text}}",
                "uk": {
                    "text": "{{text}}"
                }
            },
            "askLastName": {
                "text": "{{text}}",
                "uk": {
                    "text": "Твоя фамілія"
                }
            }
        },
        "templatesList": [
            "askFirstName",
            "askLastName",
            "askPhone",
            "firstNameError",
            "lastNameError",
            "phoneError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Запрос фамилии",
        "templateDesciptionTextToCreate": "Будь ласка, введи свою фамілію.",
        "templateIdToCreate": "askLastName",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Запрос фамилии",
            "text": "Твоя фамілія"
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Твоя фамілія\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "askLastName",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Запрос фамилии",
        "templateDesciptionTextToEdit": "Твоя фамілія",
        "x": 1160,
        "y": 640,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "329d2a519485ac5c",
        "type": "function",
        "z": "c9f41d59ab3a9920",
        "name": "lastName!Valid",
        "func": "if ((/^[А-Яа-яёЁЇїІіЄєҐґ]|[A-Za-z]$/.test(msg.text))==true) {\n    msg.service = \"CustomerAPI\"\n    msg.method = \"PUT\"\n    msg.url = `${msg.customerApi}/customers`;\n    msg.headers = {\n        'authorization': msg.customerApiKey,\n        'x-trace-id': msg.traceID,\n        'x-user-id': msg.userID\n    }\n    msg.payload = {\n        \"lastName\": msg.text\n    }\n    return [null, msg];\n} else {\n    return msg;\n    }\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 340,
        "wires": [
            [
                "15df027daa4f7ef5"
            ],
            [
                "a07974215c385ce1"
            ]
        ]
    },
    {
        "id": "15df027daa4f7ef5",
        "type": "send-message",
        "z": "c9f41d59ab3a9920",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "lastNameError",
        "props": {
            "firstNameError": [],
            "lastNameError": []
        },
        "templateId": "lastNameError",
        "templateIdToDelete": "",
        "templatesJsons": {
            "firstNameError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на ім'я."
                }
            },
            "lastNameError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на фамілію"
                }
            }
        },
        "templatesList": [
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "emailError",
            "firstNameError",
            "lastNameError",
            "phoneError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Ошибка в фамилии",
        "templateDesciptionTextToCreate": "Це не схоже на фамілію",
        "templateIdToCreate": "lastNameError",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Ошибка в фамилии",
            "text": "Це не схоже на фамілію"
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Це не схоже на фамілію\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "lastNameError",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Ошибка в фамилии",
        "templateDesciptionTextToEdit": "Це не схоже на фамілію",
        "x": 820,
        "y": 300,
        "wires": [
            [
                "1cb07b2f5365ce50"
            ],
            [],
            []
        ]
    },
    {
        "id": "a07974215c385ce1",
        "type": "subflow:36a123897fdb2173",
        "z": "c9f41d59ab3a9920",
        "name": "",
        "env": [],
        "x": 800,
        "y": 340,
        "wires": [
            [
                "42c0a6e003220cf9"
            ],
            []
        ]
    },
    {
        "id": "d3ca98bd57b941a9",
        "type": "send-message",
        "z": "c9f41d59ab3a9920",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "askPhone",
        "props": {
            "welcome2": [],
            "askName": [],
            "askFirstName": [],
            "askLastName": [],
            "askPhone": []
        },
        "templateId": "askPhone",
        "templateIdToDelete": "",
        "templatesJsons": {
            "welcome2": {
                "text": "{{text}}",
                "uk": {
                    "text": "{{text}}"
                }
            },
            "askLastName": {
                "text": "{{text}}",
                "uk": {
                    "text": "Будь ласка, введи свою фамілію."
                }
            },
            "askPhone": {
                "text": "{{text}}",
                "uk": {
                    "text": "Твій номер телефону"
                }
            }
        },
        "templatesList": [
            "askFirstName",
            "askLastName",
            "askPhone",
            "emailError",
            "firstNameError",
            "lastNameError",
            "phoneError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Твій номер телефону\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Запрос номера телефона",
        "templateDesciptionTextToCreate": "Твій номер телефону",
        "templateIdToCreate": "askPhone",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Запрос номера телефона",
            "text": "Твій номер телефону"
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"keyboard\":[[{\"request_contact\":true,\"text\":\"{{button}}\"}]],\"uk\":{\"text\":\"Твій номер телефону\",\"button1\":\"Ввести\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "askPhone",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Запрос номера телефона",
        "templateDesciptionTextToEdit": "Твій номер телефону",
        "x": 1140,
        "y": 700,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "86206b454afb4f2d",
        "type": "function",
        "z": "c9f41d59ab3a9920",
        "name": "phone!Valid",
        "func": "if (/^(([0-9]{2})|([0-9]{3}))?[0-9]{10}$/.test(msg.text.replace(/\\D/g,''))) {\n    msg.service = \"CustomerAPI\"\n    msg.method = \"PUT\"\n    msg.url = `${msg.customerApi}/customers`;\n    msg.headers = {\n        'authorization': msg.customerApiKey,\n        'x-trace-id': msg.traceID,\n        'x-user-id': msg.userID\n    }\n    msg.payload = {\n        \"phone\": msg.text\n    }\n    return [null, msg];\n}\n    return msg;\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 420,
        "wires": [
            [
                "3d361dce37890f39"
            ],
            [
                "422cceb82512c7c4"
            ]
        ]
    },
    {
        "id": "742371ad716c2bc2",
        "type": "function",
        "z": "c9f41d59ab3a9920",
        "name": "email!Valid",
        "func": "if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(msg.text)) {\n    msg.service = \"CustomerAPI\"\n    msg.method = \"PUT\"\n    msg.url = `${msg.customerApi}/customers`;\n    msg.headers = {\n        'authorization': msg.customerApiKey,\n        'x-trace-id': msg.traceID,\n        'x-user-id': msg.userID\n    }\n    msg.payload = {\n        \"email\": msg.text\n    }\n   return [null, msg];\n}\nreturn msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 500,
        "wires": [
            [
                "af4e17c7f6c4821a"
            ],
            [
                "fad1ee749d5f9ed1"
            ]
        ]
    },
    {
        "id": "422cceb82512c7c4",
        "type": "subflow:36a123897fdb2173",
        "z": "c9f41d59ab3a9920",
        "name": "",
        "env": [],
        "x": 800,
        "y": 420,
        "wires": [
            [
                "42c0a6e003220cf9"
            ],
            []
        ]
    },
    {
        "id": "3d361dce37890f39",
        "type": "send-message",
        "z": "c9f41d59ab3a9920",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "phoneError",
        "props": {
            "firstNameError": [],
            "lastNameError": [],
            "phoneError": []
        },
        "templateId": "phoneError",
        "templateIdToDelete": "",
        "templatesJsons": {
            "firstNameError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на ім'я."
                }
            },
            "lastNameError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на фамілію"
                }
            },
            "phoneError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на номер телефону"
                }
            }
        },
        "templatesList": [
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "emailError",
            "firstNameError",
            "lastNameError",
            "phoneError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Ошибка в номере телефона",
        "templateDesciptionTextToCreate": "Це не схоже на номер телефону",
        "templateIdToCreate": "phoneError",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Ошибка в номере телефона",
            "text": "Це не схоже на номер телефону"
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Це не схоже на номер телефону\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "phoneError",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Ошибка в номере телефона",
        "templateDesciptionTextToEdit": "Це не схоже на номер телефону",
        "x": 810,
        "y": 380,
        "wires": [
            [
                "d3ca98bd57b941a9"
            ],
            [],
            []
        ]
    },
    {
        "id": "c2837d859b042e90",
        "type": "send-message",
        "z": "c9f41d59ab3a9920",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "askEmail",
        "props": {
            "welcome2": [],
            "askName": [],
            "askFirstName": [],
            "askLastName": [],
            "askPhone": [
                {
                    "property": "button",
                    "value": "payload",
                    "valueType": "msg"
                }
            ],
            "askEmail": []
        },
        "templateId": "askEmail",
        "templateIdToDelete": "",
        "templatesJsons": {
            "welcome2": {
                "text": "{{text}}",
                "uk": {
                    "text": "{{text}}"
                }
            },
            "askLastName": {
                "text": "{{text}}",
                "uk": {
                    "text": "Будь ласка, введи свою фамілію."
                }
            },
            "askPhone": {
                "text": "{{text}}",
                "keyboard": [
                    [
                        {
                            "request_contact": true,
                            "text": "{{button}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Будь ласка, введи свій телефон",
                    "button1": "Телефон"
                }
            },
            "askEmail": {
                "text": "{{text}}",
                "uk": {
                    "text": "Твоя електронна пошта"
                }
            }
        },
        "templatesList": [
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "emailError",
            "firstNameError",
            "lastNameError",
            "phoneError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Твоя електронна пошта\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Запрос електронной почты",
        "templateDesciptionTextToCreate": "Твоя електронна пошта",
        "templateIdToCreate": "askEmail",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Запрос електронной почты",
            "text": "Твоя електронна пошта"
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Будь ласка, введи свою фамілію.\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "askLastName",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Запрос фамилии",
        "templateDesciptionTextToEdit": "Будь ласка, введи свою фамілію.",
        "x": 1140,
        "y": 760,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "af4e17c7f6c4821a",
        "type": "send-message",
        "z": "c9f41d59ab3a9920",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "emailError",
        "props": {
            "firstNameError": [],
            "lastNameError": [],
            "phoneError": [],
            "emailError": []
        },
        "templateId": "emailError",
        "templateIdToDelete": "",
        "templatesJsons": {
            "firstNameError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на ім'я."
                }
            },
            "lastNameError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на фамілію"
                }
            },
            "phoneError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на номер телефону"
                }
            },
            "emailError": {
                "text": "{{text}}",
                "uk": {
                    "text": "Це не схоже на електронну пошту"
                }
            }
        },
        "templatesList": [
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "emailError",
            "firstNameError",
            "lastNameError",
            "phoneError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Ошибка в електронной почте",
        "templateDesciptionTextToCreate": "Це не схоже на електронну пошту",
        "templateIdToCreate": "emailError",
        "templateGroupToCreate": "onboarding",
        "currentTemplateDescription": {
            "details": "Ошибка в електронной почте",
            "text": "Це не схоже на електронну пошту"
        },
        "currentTemplateGroup": "onboarding",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Це не схоже на електронну пошту\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "emailError",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Ошибка в електронной почте",
        "templateDesciptionTextToEdit": "Це не схоже на електронну пошту",
        "x": 810,
        "y": 460,
        "wires": [
            [
                "c2837d859b042e90"
            ],
            [],
            []
        ]
    },
    {
        "id": "fad1ee749d5f9ed1",
        "type": "subflow:36a123897fdb2173",
        "z": "c9f41d59ab3a9920",
        "name": "",
        "env": [],
        "x": 800,
        "y": 500,
        "wires": [
            [
                "42c0a6e003220cf9"
            ],
            []
        ]
    },
    {
        "id": "2eae10a5e56ffc85",
        "type": "switch",
        "z": "c9f41d59ab3a9920",
        "name": "check state",
        "property": "state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "askFirstName",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "askLastName",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "askPhone",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "askEmail",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 5,
        "x": 350,
        "y": 480,
        "wires": [
            [
                "b52b2f982306e613"
            ],
            [
                "329d2a519485ac5c"
            ],
            [
                "86206b454afb4f2d"
            ],
            [
                "742371ad716c2bc2"
            ],
            [
                "4284e3f9c32699b1"
            ]
        ]
    },
    {
        "id": "4284e3f9c32699b1",
        "type": "switch",
        "z": "c9f41d59ab3a9920",
        "name": "Callback",
        "property": "text",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "firstName",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "lastName",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "phone",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "email",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 4,
        "x": 860,
        "y": 680,
        "wires": [
            [
                "513fcf8058a11814"
            ],
            [
                "1cb07b2f5365ce50"
            ],
            [
                "d3ca98bd57b941a9"
            ],
            [
                "c2837d859b042e90"
            ]
        ]
    },
    {
        "id": "adf87283889eb5b1",
        "type": "link in",
        "z": "c9f41d59ab3a9920",
        "name": "",
        "links": [
            "0d1804bc639201ce"
        ],
        "x": 185,
        "y": 480,
        "wires": [
            [
                "2eae10a5e56ffc85"
            ]
        ]
    },
    {
        "id": "42c0a6e003220cf9",
        "type": "send-message",
        "z": "c9f41d59ab3a9920",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "success",
        "props": {
            "success": []
        },
        "templateId": "success",
        "templateIdToDelete": "",
        "templatesJsons": {
            "success": {
                "text": "{{text}}",
                "uk": {
                    "text": "Дані успішно записані"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "editingKeyboard",
            "emailError",
            "eventAction",
            "eventKeyboard",
            "eventMessage",
            "firstNameError",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Дані успішно записані\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Профиль успешно отредактирован",
        "templateDesciptionTextToCreate": "Дані успішно записані",
        "templateIdToCreate": "success",
        "templateGroupToCreate": "edit",
        "currentTemplateDescription": {
            "details": "Профиль успешно отредактирован",
            "text": "Дані успішно записані"
        },
        "currentTemplateGroup": "edit",
        "currentTemplateType": "standard",
        "jsonToEdit": "",
        "jsonToEditType": "json",
        "templateIdToEdit": "",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "",
        "templateDesciptionTextToEdit": "",
        "x": 1140,
        "y": 340,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "49fefdc7990a8007",
        "type": "link in",
        "z": "f42b8368e3d4eac3",
        "name": "",
        "links": [
            "2985c23e01569bf4",
            "84ebd5342ae0aed0"
        ],
        "x": 235,
        "y": 100,
        "wires": [
            [
                "953e656e2fe96c08"
            ]
        ]
    },
    {
        "id": "953e656e2fe96c08",
        "type": "send-message",
        "z": "f42b8368e3d4eac3",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "mainKeyboard",
        "props": {
            "mainKeyboard": []
        },
        "templateId": "mainKeyboard",
        "templateIdToDelete": "",
        "templatesJsons": {
            "mainKeyboard": {
                "text": "{{text}}",
                "parse_mode": "Markdown",
                "keyboard": [
                    [
                        {
                            "text": "Меню"
                        },
                        {
                            "text": "Редагувати профіль"
                        }
                    ]
                ],
                "uk": {
                    "text": "Ти можеш викликати меню чи відредагувати свій профіль в любий момент",
                    "button1": "Меню",
                    "button2": "Редагувати профіль"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterMessage",
            "callCenterReply",
            "editingKeyboard",
            "emailError",
            "eventAction",
            "eventKeyboard",
            "eventMessage",
            "firstNameError",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Кнопки меню и редактирование профиля",
        "templateDesciptionTextToCreate": "Ти можеш викликати меню чи відредагувати свій профіль в любий момент",
        "templateIdToCreate": "mainKeyboard",
        "templateGroupToCreate": "menu",
        "currentTemplateDescription": {
            "details": "Кнопки меню и редактирование профиля",
            "text": "Ти можеш викликати меню чи відредагувати свій профіль в любий момент"
        },
        "currentTemplateGroup": "menu",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"parse_mode\":\"Markdown\",\"keyboard\":[[{\"text\":\"Меню\"},{\"text\":\"Редагувати профіль\"}]],\"uk\":{\"text\":\"Ти можеш викликати меню чи відредагувати свій профіль в любий момент\",\"button1\":\"Меню\",\"button2\":\"Редагувати профіль\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "mainKeyboard",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Кнопки меню и редактирование профиля",
        "templateDesciptionTextToEdit": "Ти можеш викликати меню чи відредагувати свій профіль в любий момент",
        "x": 380,
        "y": 100,
        "wires": [
            [
                "308fbbc36e738790"
            ],
            [],
            []
        ]
    },
    {
        "id": "d4b4300962fa516b",
        "type": "link in",
        "z": "f42b8368e3d4eac3",
        "name": "",
        "links": [
            "b22af02e37f6def6"
        ],
        "x": 235,
        "y": 160,
        "wires": [
            [
                "b2157b4464de2bff"
            ]
        ]
    },
    {
        "id": "b2157b4464de2bff",
        "type": "send-message",
        "z": "f42b8368e3d4eac3",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "menuKeyboard",
        "props": {
            "menuKeyboard": []
        },
        "templateId": "menuKeyboard",
        "templateIdToDelete": "",
        "templatesJsons": {
            "menuKeyboard": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        },
                        {
                            "callback_data": "{{callback2}}",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback3}}",
                            "text": "{{callbackText3}}"
                        },
                        {
                            "callback_data": "{{callback4}}",
                            "text": "{{callbackText4}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback5}}",
                            "text": "{{callbackText5}}"
                        },
                        {
                            "callback_data": "{{callback6}}",
                            "text": "{{callbackText6}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "З яким запитом ти звертаєшся?",
                    "callback1": "booking",
                    "callback2": "renting",
                    "callback3": "events",
                    "callback4": "organization",
                    "callback5": "letters",
                    "callback6": "other",
                    "callbackText1": "Бронювання приміщень",
                    "callbackText2": "Оренда",
                    "callbackText3": "Заходи",
                    "callbackText4": "Улади",
                    "callbackText5": "Листи",
                    "callbackText6": "Інші питання"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterMessage",
            "callCenterReply",
            "editingKeyboard",
            "emailError",
            "eventAction",
            "eventKeyboard",
            "eventMessage",
            "firstNameError",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Вызов меню",
        "templateDesciptionTextToCreate": "З яким запитом ти звертаєшся",
        "templateIdToCreate": "menuKeyboard",
        "templateGroupToCreate": "menu",
        "currentTemplateDescription": {
            "details": "Вызов меню",
            "text": "З яким запитом ти звертаєшся?"
        },
        "currentTemplateGroup": "menu",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"callback_data\":\"{{callback1}}\",\"text\":\"{{callbackText1}}\"},{\"callback_data\":\"{{callback2}}\",\"text\":\"{{callbackText2}}\"}],[{\"callback_data\":\"{{callback3}}\",\"text\":\"{{callbackText3}}\"},{\"callback_data\":\"{{callback4}}\",\"text\":\"{{callbackText4}}\"}],[{\"callback_data\":\"{{callback5}}\",\"text\":\"{{callbackText5}}\"},{\"callback_data\":\"{{callback6}}\",\"text\":\"{{callbackText6}}\"}]],\"uk\":{\"text\":\"З яким запитом ти звертаєшся?\",\"callback1\":\"booking\",\"callback2\":\"renting\",\"callback3\":\"events\",\"callback4\":\"organization\",\"callback5\":\"letters\",\"callback6\":\"other\",\"callbackText1\":\"Бронювання приміщень\",\"callbackText2\":\"Оренда\",\"callbackText3\":\"Заходи\",\"callbackText4\":\"Улади\",\"callbackText5\":\"Листи\",\"callbackText6\":\"Інші питання\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "menuKeyboard",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Вызов меню",
        "templateDesciptionTextToEdit": "З яким запитом ти звертаєшся?",
        "x": 380,
        "y": 160,
        "wires": [
            [
                "308fbbc36e738790"
            ],
            [],
            []
        ]
    },
    {
        "id": "308fbbc36e738790",
        "type": "function",
        "z": "f42b8368e3d4eac3",
        "name": "post flow",
        "func": "msg.service = \"CustomerAPI\"\n\nmsg.method = \"POST\"\nmsg.url = `${msg.customerApi}/settings`;\nmsg.headers = {\n    'authorization': msg.customerApiKey,\n    'x-trace-id': msg.traceID,\n    'x-user-id': msg.userID\n}\n\nmsg.payload = {\n    \"flow\": \"menu\"\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 120,
        "wires": [
            [
                "77e8aa947e32f5ad"
            ]
        ]
    },
    {
        "id": "77e8aa947e32f5ad",
        "type": "subflow:36a123897fdb2173",
        "z": "f42b8368e3d4eac3",
        "name": "",
        "env": [],
        "x": 760,
        "y": 120,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "21d26fb9c47726d5",
        "type": "link in",
        "z": "f42b8368e3d4eac3",
        "name": "",
        "links": [
            "69f2ba080f069f6e"
        ],
        "x": 235,
        "y": 300,
        "wires": [
            [
                "d5e62a56416fe6c1"
            ]
        ]
    },
    {
        "id": "d5e62a56416fe6c1",
        "type": "switch",
        "z": "f42b8368e3d4eac3",
        "name": "toSection",
        "property": "text",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "booking",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "renting",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "events",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": " organization",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "letters",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "other",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "talk",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 7,
        "x": 340,
        "y": 320,
        "wires": [
            [
                "94971274d57b24d0"
            ],
            [
                "ba1682125b1b1b8a"
            ],
            [
                "ef83c09fbfa3b04d"
            ],
            [
                "6af014d4494ee274"
            ],
            [
                "e4a21a974488973e"
            ],
            [
                "8b717bd748ffe7b8"
            ],
            [
                "a708ceb2787df4d2"
            ]
        ]
    },
    {
        "id": "94971274d57b24d0",
        "type": "link out",
        "z": "f42b8368e3d4eac3",
        "name": "bookingKeyboard",
        "mode": "link",
        "links": [
            "0dc2203d5c97aea3"
        ],
        "x": 570,
        "y": 200,
        "wires": [],
        "l": true
    },
    {
        "id": "ba1682125b1b1b8a",
        "type": "link out",
        "z": "f42b8368e3d4eac3",
        "name": "rentingKeyboard",
        "mode": "link",
        "links": [
            "dc9e8a338ad89ddd",
            "ec3fde59c2bd185e"
        ],
        "x": 560,
        "y": 240,
        "wires": [],
        "l": true
    },
    {
        "id": "ef83c09fbfa3b04d",
        "type": "link out",
        "z": "f42b8368e3d4eac3",
        "name": "eventsKeyboard",
        "mode": "link",
        "links": [
            "9415459277bbb956",
            "cd3f0139cb8ca5cb"
        ],
        "x": 560,
        "y": 280,
        "wires": [],
        "l": true
    },
    {
        "id": "6af014d4494ee274",
        "type": "link out",
        "z": "f42b8368e3d4eac3",
        "name": " organizationKeyboard",
        "mode": "link",
        "links": [
            "ef18d7b63273f1c1",
            "256ecc5ecca65ccb"
        ],
        "x": 580,
        "y": 320,
        "wires": [],
        "l": true
    },
    {
        "id": "e4a21a974488973e",
        "type": "link out",
        "z": "f42b8368e3d4eac3",
        "name": "lettersKeyboard",
        "mode": "link",
        "links": [
            "f616c92c523db05e"
        ],
        "x": 560,
        "y": 360,
        "wires": [],
        "l": true
    },
    {
        "id": "8b717bd748ffe7b8",
        "type": "send-message",
        "z": "f42b8368e3d4eac3",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "other",
        "props": {
            "other": []
        },
        "templateId": "other",
        "templateIdToDelete": "",
        "templatesJsons": {
            "other": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "text": "{{callbackText2}}",
                            "url": "https://t.me/lvivplastoffice"
                        }
                    ]
                ],
                "uk": {
                    "text": "Інші питання",
                    "callback1": "talk",
                    "callbackText1": "Зв'язок з адміністратором",
                    "callbackText2": "@lvivplastoffice"
                }
            }
        },
        "templatesList": [
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "emailError",
            "firstNameError",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "other",
            "phoneError",
            "welcome",
            "welcome2",
            "welcomeMessage"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Другие вопросы",
        "templateDesciptionTextToCreate": "Інші питання",
        "templateIdToCreate": "other",
        "templateGroupToCreate": "other",
        "currentTemplateDescription": {
            "details": "Другие вопросы",
            "text": "Інші питання"
        },
        "currentTemplateGroup": "other",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"callback_data\":\"{{callback1}}\",\"text\":\"{{callbackText1}}\"}],[{\"text\":\"{{callbackText2}}\",\"url\":\"https://t.me/lvivplastoffice\"}]],\"uk\":{\"text\":\"Інші питання\",\"callback1\":\"talk\",\"callbackText1\":\"Зв'язок з адміністратором\",\"callbackText2\":\"@lvivplastoffice\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "other",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Другие вопросы",
        "templateDesciptionTextToEdit": "Інші питання",
        "x": 530,
        "y": 400,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "a708ceb2787df4d2",
        "type": "link out",
        "z": "f42b8368e3d4eac3",
        "name": "callCenterKeyboard",
        "mode": "link",
        "links": [
            "785d583631888326"
        ],
        "x": 570,
        "y": 440,
        "wires": [],
        "l": true
    },
    {
        "id": "0dc2203d5c97aea3",
        "type": "link in",
        "z": "a0068cdd081fd68a",
        "name": "",
        "links": [
            "94971274d57b24d0"
        ],
        "x": 265,
        "y": 140,
        "wires": [
            [
                "baa871731d035006"
            ]
        ]
    },
    {
        "id": "baa871731d035006",
        "type": "send-message",
        "z": "a0068cdd081fd68a",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "bookingKeyboard",
        "props": {
            "bookingKeyboard": []
        },
        "templateId": "bookingKeyboard",
        "templateIdToDelete": "",
        "templatesJsons": {
            "bookingKeyboard": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback2}}",
                            "text": "{{callbackText2}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Ознайомся з правилами бронювання приміщень",
                    "callback2": "agree",
                    "callbackText1": "Правила",
                    "callbackText2": "Ознайомився/лась"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterLetter",
            "callCenterMessage",
            "callCenterReply",
            "campLetter",
            "editingKeyboard",
            "emailError",
            "eventAccept",
            "eventAction",
            "eventKeyboard",
            "eventLetter",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "lettersKeyboard",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "rentingMessage",
            "roomLetter",
            "schoolLetter",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Ознакомление с правилами",
        "templateDesciptionTextToCreate": "Ознайомся з правилами бронювання приміщень",
        "templateIdToCreate": "bookingKeyboard",
        "templateGroupToCreate": "booking",
        "currentTemplateDescription": {
            "details": "Ознакомление с правилами бронирования",
            "text": "Ознайомся з правилами бронювання приміщень"
        },
        "currentTemplateGroup": "booking",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText1}}\"}],[{\"callback_data\":\"{{callback2}}\",\"text\":\"{{callbackText2}}\"}]],\"uk\":{\"text\":\"Ознайомся з правилами бронювання приміщень\",\"callback2\":\"agree\",\"callbackText1\":\"Правила\",\"callbackText2\":\"Ознайомився/лась\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "bookingKeyboard",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Ознакомление с правилами бронирования",
        "templateDesciptionTextToEdit": "Ознайомся з правилами бронювання приміщень",
        "x": 470,
        "y": 140,
        "wires": [
            [
                "39bc1f1bc6835b33"
            ],
            [],
            []
        ]
    },
    {
        "id": "39bc1f1bc6835b33",
        "type": "function",
        "z": "a0068cdd081fd68a",
        "name": "post flow",
        "func": "msg.service = \"CustomerAPI\"\n\nmsg.method = \"POST\"\nmsg.url = `${msg.customerApi}/settings`;\nmsg.headers = {\n    'authorization': msg.customerApiKey,\n    'x-trace-id': msg.traceID,\n    'x-user-id': msg.userID\n}\n\nmsg.payload = {\n    \"flow\": \"booking\"\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 140,
        "wires": [
            [
                "4d34eecd6953aec8"
            ]
        ]
    },
    {
        "id": "4d34eecd6953aec8",
        "type": "subflow:36a123897fdb2173",
        "z": "a0068cdd081fd68a",
        "name": "",
        "env": [],
        "x": 840,
        "y": 140,
        "wires": [
            [
                "0245f26ef324464c"
            ],
            []
        ]
    },
    {
        "id": "0245f26ef324464c",
        "type": "function",
        "z": "a0068cdd081fd68a",
        "name": "put state",
        "func": "msg.service = \"CustomerAPI\"\nmsg.method = \"PUT\"\nmsg.url = `${msg.customerApi}/customers`;\nmsg.headers = {\n    'authorization': msg.customerApiKey,\n    'x-trace-id': msg.traceID,\n    'x-user-id': msg.userID\n}\n\nmsg.payload = {\n    \"state\": \"booking\"\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1000,
        "y": 140,
        "wires": [
            [
                "d22589c5c5d620d5"
            ]
        ]
    },
    {
        "id": "d22589c5c5d620d5",
        "type": "subflow:36a123897fdb2173",
        "z": "a0068cdd081fd68a",
        "name": "",
        "env": [],
        "x": 1160,
        "y": 140,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "cbf1263e4c786db2",
        "type": "link in",
        "z": "a0068cdd081fd68a",
        "name": "",
        "links": [
            "a5f73a3fa45450de"
        ],
        "x": 265,
        "y": 340,
        "wires": [
            [
                "804b3534fd923c9a"
            ]
        ]
    },
    {
        "id": "a5c2ee1c20931e25",
        "type": "switch",
        "z": "a0068cdd081fd68a",
        "name": "callback",
        "property": "text",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "agree",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "booking",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "sheptytsky",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "trainingCenter",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "hotkevich",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "tyutyunnik",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "kotsilovsky",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "kotlyarevsky",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "zhytomyr",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "letters",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 10,
        "x": 560,
        "y": 440,
        "wires": [
            [
                "e5c93ef228dbda8b"
            ],
            [
                "e5c93ef228dbda8b"
            ],
            [
                "d77ce25380fcb476"
            ],
            [
                "bfd2d33fb8473267"
            ],
            [
                "4f1c07619f349e39"
            ],
            [
                "cfcba44c40d9f1b6"
            ],
            [
                "bf3e872504b1b2bb"
            ],
            [
                "5449ce1ad01286e7"
            ],
            [
                "afdce6e310a7db84"
            ],
            [
                "36b589d68dc65082"
            ]
        ]
    },
    {
        "id": "36b589d68dc65082",
        "type": "link out",
        "z": "a0068cdd081fd68a",
        "name": "letters",
        "mode": "link",
        "links": [
            "a7f13a17ecdc048e",
            "3c0cb106be240bfe"
        ],
        "x": 730,
        "y": 580,
        "wires": [],
        "l": true
    },
    {
        "id": "e5c93ef228dbda8b",
        "type": "send-message",
        "z": "a0068cdd081fd68a",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "bookingAdress",
        "props": {
            "bookingAdress": []
        },
        "templateId": "bookingAdress",
        "templateIdToDelete": "",
        "templatesJsons": {
            "bookingAdress": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        },
                        {
                            "callback_data": "{{callback2}}",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback3}}",
                            "text": "{{callbackText3}}"
                        },
                        {
                            "callback_data": "{{callback4}}",
                            "text": "{{callbackText4}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback5}}",
                            "text": "{{callbackText5}}"
                        },
                        {
                            "callback_data": "{{callback6}}",
                            "text": "{{callbackText6}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback7}}",
                            "text": "{{callbackText7}}"
                        },
                        {
                            "callback_data": "{{callback8}}",
                            "text": "{{callbackText8}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Оберіть адресу",
                    "callback1": "sheptytsky",
                    "callback2": "trainingCenter",
                    "callback3": "hotkevich",
                    "callback4": "tyutyunnik",
                    "callback5": "kotsilovsky",
                    "callback6": "kotlyarevsky",
                    "callback7": "zhytomyr",
                    "callback8": "letters",
                    "callbackText1": "Шептицьких, 16",
                    "callbackText2": "Вишкільний центр у Винниках",
                    "callbackText3": "Хоткевича, 16А",
                    "callbackText4": "Тютюнників, 25",
                    "callbackText5": "Коциловського, 16",
                    "callbackText6": "Котляревського, 17",
                    "callbackText7": "Житомирська, 12",
                    "callbackText8": "Отримати лист-дозвіл на інше приміщення"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "editingKeyboard",
            "emailError",
            "firstNameError",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Выбор адреса для бронирования",
        "templateDesciptionTextToCreate": "Оберіть адресу",
        "templateIdToCreate": "bookingAdress",
        "templateGroupToCreate": "booking",
        "currentTemplateDescription": {
            "details": "Выбор адреса для бронирования",
            "text": "Оберіть адресу"
        },
        "currentTemplateGroup": "booking",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"callback_data\":\"{{callback1}}\",\"text\":\"{{callbackText1}}\"},{\"callback_data\":\"{{callback2}}\",\"text\":\"{{callbackText2}}\"}],[{\"callback_data\":\"{{callback3}}\",\"text\":\"{{callbackText3}}\"},{\"callback_data\":\"{{callback4}}\",\"text\":\"{{callbackText4}}\"}],[{\"callback_data\":\"{{callback5}}\",\"text\":\"{{callbackText5}}\"},{\"callback_data\":\"{{callback6}}\",\"text\":\"{{callbackText6}}\"}],[{\"callback_data\":\"{{callback7}}\",\"text\":\"{{callbackText7}}\"},{\"callback_data\":\"{{callback8}}\",\"text\":\"{{callbackText8}}\"}]],\"uk\":{\"text\":\"Оберіть адресу\",\"callback1\":\"sheptytsky\",\"callback2\":\"trainingCenter\",\"callback3\":\"hotkevich\",\"callback4\":\"tyutyunnik\",\"callback5\":\"kotsilovsky\",\"callback6\":\"kotlyarevsky\",\"callback7\":\"zhytomyr\",\"callback8\":\"letters\",\"callbackText1\":\"Шептицьких, 16\",\"callbackText2\":\"Вишкільний центр у Винниках\",\"callbackText3\":\"Хоткевича, 16А\",\"callbackText4\":\"Тютюнників, 25\",\"callbackText5\":\"Коциловського, 16\",\"callbackText6\":\"Котляревського, 17\",\"callbackText7\":\"Житомирська, 12\",\"callbackText8\":\"Отримати лист-дозвіл на інше приміщення\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "bookingAdress",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Выбор адреса для бронирования",
        "templateDesciptionTextToEdit": "Оберіть адресу",
        "x": 760,
        "y": 220,
        "wires": [
            [
                "0245f26ef324464c"
            ],
            [],
            []
        ]
    },
    {
        "id": "804b3534fd923c9a",
        "type": "switch",
        "z": "a0068cdd081fd68a",
        "name": "state",
        "property": "state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "actualBooking",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 370,
        "y": 340,
        "wires": [
            [
                "b49ffbc73cd93c29"
            ],
            [
                "a5c2ee1c20931e25"
            ]
        ]
    },
    {
        "id": "d77ce25380fcb476",
        "type": "send-message",
        "z": "a0068cdd081fd68a",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "sheptytsky",
        "props": {
            "": [],
            "sheptytsky": []
        },
        "templateId": "sheptytsky",
        "templateIdToDelete": "",
        "templatesJsons": {
            "sheptytsky": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback3}}",
                            "text": "{{callbackText3}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Шептицьких, 16",
                    "callback1": "sheptytsky",
                    "callback3": "booking",
                    "callbackText1": "Реєстрація бронювання",
                    "callbackText2": "Графік зайнятості",
                    "callbackText3": "Інша адреса"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterLetter",
            "callCenterMessage",
            "callCenterReply",
            "campLetter",
            "editingKeyboard",
            "emailError",
            "eventAccept",
            "eventAction",
            "eventKeyboard",
            "eventLetter",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "lettersKeyboard",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "rentingMessage",
            "roomLetter",
            "schoolLetter",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Шептицьких, 16",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "sheptytsky",
        "templateGroupToCreate": "booking",
        "currentTemplateDescription": {
            "details": "Шептицьких, 16"
        },
        "currentTemplateGroup": "booking",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"callback_data\":\"{{callback1}}\",\"text\":\"{{callbackText1}}\"}],[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText2}}\"}],[{\"callback_data\":\"{{callback3}}\",\"text\":\"{{callbackText3}}\"}]],\"uk\":{\"text\":\"Шептицьких, 16\",\"callback1\":\"sheptytsky\",\"callback3\":\"booking\",\"callbackText1\":\"Реєстрація бронювання\",\"callbackText2\":\"Графік зайнятості\",\"callbackText3\":\"Інша адреса\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "sheptytsky",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Шептицьких, 16",
        "templateDesciptionTextToEdit": "",
        "x": 750,
        "y": 300,
        "wires": [
            [
                "a1c538553c81fe31"
            ],
            [],
            []
        ]
    },
    {
        "id": "bfd2d33fb8473267",
        "type": "send-message",
        "z": "a0068cdd081fd68a",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": " trainingCenter",
        "props": {
            " trainingCenter": []
        },
        "templateId": " trainingCenter",
        "templateIdToDelete": "",
        "templatesJsons": {
            " trainingCenter": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback3}}",
                            "text": "{{callbackText3}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Вишкільний центр у Винниках",
                    "callback1": "trainingCenter",
                    "callback3": "booking",
                    "callbackText1": "Реєстрація бронювання",
                    "callbackText2": "Графік зайнятості",
                    "callbackText3": "Інша адреса"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "editingKeyboard",
            "emailError",
            "firstNameError",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Вишкільний центр у Винниках",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": " trainingCenter",
        "templateGroupToCreate": "booking",
        "currentTemplateDescription": {
            "details": "Вишкільний центр у Винниках"
        },
        "currentTemplateGroup": "booking",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"callback_data\":\"{{callback1}}\",\"text\":\"{{callbackText1}}\"}],[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText2}}\"}],[{\"callback_data\":\"{{callback3}}\",\"text\":\"{{callbackText3}}\"}]],\"uk\":{\"text\":\"Вишкільний центр у Винниках\",\"callback1\":\"trainingCenter\",\"callback3\":\"booking\",\"callbackText1\":\"Реєстрація бронювання\",\"callbackText2\":\"Графік зайнятості\",\"callbackText3\":\"Інша адреса\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": " trainingCenter",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Вишкільний центр у Винниках",
        "templateDesciptionTextToEdit": "",
        "x": 760,
        "y": 340,
        "wires": [
            [
                "a1c538553c81fe31"
            ],
            [],
            []
        ]
    },
    {
        "id": "4f1c07619f349e39",
        "type": "send-message",
        "z": "a0068cdd081fd68a",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "hotkevich",
        "props": {
            "hotkevich": []
        },
        "templateId": "hotkevich",
        "templateIdToDelete": "",
        "templatesJsons": {
            "hotkevich": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback3}}",
                            "text": "{{callbackText3}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Хоткевича, 16А",
                    "callback1": "hotkevich",
                    "callback3": "booking",
                    "callbackText1": "Реєстрація бронювання",
                    "callbackText2": "Графік зайнятості",
                    "callbackText3": "Інша адреса"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "editingKeyboard",
            "emailError",
            "firstNameError",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Хоткевича, 16А",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "hotkevich",
        "templateGroupToCreate": "booking",
        "currentTemplateDescription": {
            "details": "Хоткевича, 16А"
        },
        "currentTemplateGroup": "booking",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"callback_data\":\"{{callback1}}\",\"text\":\"{{callbackText1}}\"}],[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText2}}\"}],[{\"callback_data\":\"{{callback3}}\",\"text\":\"{{callbackText3}}\"}]],\"uk\":{\"text\":\"Хоткевича, 16А\",\"callback1\":\"hotkevich\",\"callback3\":\"booking\",\"callbackText1\":\"Реєстрація бронювання\",\"callbackText2\":\"Графік зайнятості\",\"callbackText3\":\"Інша адреса\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "hotkevich",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Хоткевича, 16А",
        "templateDesciptionTextToEdit": "",
        "x": 740,
        "y": 380,
        "wires": [
            [
                "a1c538553c81fe31"
            ],
            [],
            []
        ]
    },
    {
        "id": "cfcba44c40d9f1b6",
        "type": "send-message",
        "z": "a0068cdd081fd68a",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "tyutyunnik",
        "props": {
            "tyutyunnik": []
        },
        "templateId": "tyutyunnik",
        "templateIdToDelete": "",
        "templatesJsons": {
            "tyutyunnik": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback3}}",
                            "text": "{{callbackText3}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Тютюнників, 25",
                    "callback1": "tyutyunnik",
                    "callback3": "booking",
                    "callbackText1": "Реєстрація бронювання",
                    "callbackText2": "Графік зайнятості",
                    "callbackText3": "Інша адреса"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "editingKeyboard",
            "emailError",
            "firstNameError",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Тютюнників, 25",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "tyutyunnik",
        "templateGroupToCreate": "booking",
        "currentTemplateDescription": {
            "details": "Тютюнників, 25"
        },
        "currentTemplateGroup": "booking",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"callback_data\":\"{{callback1}}\",\"text\":\"{{callbackText1}}\"}],[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText2}}\"}],[{\"callback_data\":\"{{callback3}}\",\"text\":\"{{callbackText3}}\"}]],\"uk\":{\"text\":\"Тютюнників, 25\",\"callback1\":\"tyutyunnik\",\"callback3\":\"booking\",\"callbackText1\":\"Реєстрація бронювання\",\"callbackText2\":\"Графік зайнятості\",\"callbackText3\":\"Інша адреса\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "tyutyunnik",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Тютюнників, 25",
        "templateDesciptionTextToEdit": "",
        "x": 740,
        "y": 420,
        "wires": [
            [
                "a1c538553c81fe31"
            ],
            [],
            []
        ]
    },
    {
        "id": "bf3e872504b1b2bb",
        "type": "send-message",
        "z": "a0068cdd081fd68a",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "kotsilovsky",
        "props": {
            "kotsilovsky": []
        },
        "templateId": "kotsilovsky",
        "templateIdToDelete": "",
        "templatesJsons": {
            "kotsilovsky": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback3}}",
                            "text": "{{callbackText3}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Коциловського, 16",
                    "callback1": "kotsilovsky",
                    "callback3": "booking",
                    "callbackText1": "Реєстрація бронювання",
                    "callbackText2": "Графік зайнятості",
                    "callbackText3": "Інша адреса"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "editingKeyboard",
            "emailError",
            "firstNameError",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Коциловського, 16",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "kotsilovsky",
        "templateGroupToCreate": "booking",
        "currentTemplateDescription": {
            "details": "Коциловського, 16"
        },
        "currentTemplateGroup": "booking",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"callback_data\":\"{{callback1}}\",\"text\":\"{{callbackText1}}\"}],[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText2}}\"}],[{\"callback_data\":\"{{callback3}}\",\"text\":\"{{callbackText3}}\"}]],\"uk\":{\"text\":\"Коциловського, 16\",\"callback1\":\"kotsilovsky\",\"callback3\":\"booking\",\"callbackText1\":\"Реєстрація бронювання\",\"callbackText2\":\"Графік зайнятості\",\"callbackText3\":\"Інша адреса\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "kotsilovsky",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Коциловського, 16",
        "templateDesciptionTextToEdit": "",
        "x": 750,
        "y": 460,
        "wires": [
            [
                "a1c538553c81fe31"
            ],
            [],
            []
        ]
    },
    {
        "id": "5449ce1ad01286e7",
        "type": "send-message",
        "z": "a0068cdd081fd68a",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "kotlyarevsky",
        "props": {
            "kotlyarevsky": []
        },
        "templateId": "kotlyarevsky",
        "templateIdToDelete": "",
        "templatesJsons": {
            "kotlyarevsky": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback3}}",
                            "text": "{{callbackText3}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Котляревського, 17",
                    "callback1": "kotlyarevsky",
                    "callback3": "booking",
                    "callbackText1": "Реєстрація бронювання",
                    "callbackText2": "Графік зайнятості",
                    "callbackText3": "Інша адреса"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "editingKeyboard",
            "emailError",
            "firstNameError",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Котляревського, 17",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "kotlyarevsky",
        "templateGroupToCreate": "booking",
        "currentTemplateDescription": {
            "details": "Котляревського, 17"
        },
        "currentTemplateGroup": "booking",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"callback_data\":\"{{callback1}}\",\"text\":\"{{callbackText1}}\"}],[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText2}}\"}],[{\"callback_data\":\"{{callback3}}\",\"text\":\"{{callbackText3}}\"}]],\"uk\":{\"text\":\"Котляревського, 17\",\"callback1\":\"kotlyarevsky\",\"callback3\":\"booking\",\"callbackText1\":\"Реєстрація бронювання\",\"callbackText2\":\"Графік зайнятості\",\"callbackText3\":\"Інша адреса\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "kotlyarevsky",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Котляревського, 17",
        "templateDesciptionTextToEdit": "",
        "x": 750,
        "y": 500,
        "wires": [
            [
                "a1c538553c81fe31"
            ],
            [],
            []
        ]
    },
    {
        "id": "afdce6e310a7db84",
        "type": "send-message",
        "z": "a0068cdd081fd68a",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "zhytomyr",
        "props": {
            "zhytomyr": []
        },
        "templateId": "zhytomyr",
        "templateIdToDelete": "",
        "templatesJsons": {
            "zhytomyr": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback3}}",
                            "text": "{{callbackText3}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Житомирська, 12",
                    "callback1": "zhytomyr",
                    "callback3": "booking",
                    "callbackText1": "Реєстрація бронювання",
                    "callbackText2": "Графік зайнятості",
                    "callbackText3": "Інша адреса"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "editingKeyboard",
            "emailError",
            "firstNameError",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Житомирська, 12",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "zhytomyr",
        "templateGroupToCreate": "booking",
        "currentTemplateDescription": {
            "details": "Житомирська, 12"
        },
        "currentTemplateGroup": "booking",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"callback_data\":\"{{callback1}}\",\"text\":\"{{callbackText1}}\"}],[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText2}}\"}],[{\"callback_data\":\"{{callback3}}\",\"text\":\"{{callbackText3}}\"}]],\"uk\":{\"text\":\"Житомирська, 12\",\"callback1\":\"zhytomyr\",\"callback3\":\"booking\",\"callbackText1\":\"Реєстрація бронювання\",\"callbackText2\":\"Графік зайнятості\",\"callbackText3\":\"Інша адреса\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "zhytomyr",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Житомирська, 12",
        "templateDesciptionTextToEdit": "",
        "x": 740,
        "y": 540,
        "wires": [
            [
                "a1c538553c81fe31"
            ],
            [],
            []
        ]
    },
    {
        "id": "a1c538553c81fe31",
        "type": "function",
        "z": "a0068cdd081fd68a",
        "name": "put state",
        "func": "msg.service = \"CustomerAPI\"\nmsg.method = \"PUT\"\nmsg.url = `${msg.customerApi}/customers`;\nmsg.headers = {\n    'authorization': msg.customerApiKey,\n    'x-trace-id': msg.traceID,\n    'x-user-id': msg.userID\n}\n\nmsg.payload = {\n    \"state\": \"actualBooking\"\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1000,
        "y": 420,
        "wires": [
            [
                "5822b4eb567e30c2"
            ]
        ]
    },
    {
        "id": "5822b4eb567e30c2",
        "type": "subflow:36a123897fdb2173",
        "z": "a0068cdd081fd68a",
        "name": "",
        "env": [],
        "x": 1160,
        "y": 420,
        "wires": [
            [
                "a03bf04367c02873"
            ],
            []
        ]
    },
    {
        "id": "b49ffbc73cd93c29",
        "type": "switch",
        "z": "a0068cdd081fd68a",
        "name": "booking",
        "property": "text",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "sheptytsky",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "trainingCenter",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "hotkevich",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "tyutyunnik",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "kotsilovsky",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "kotlyarevsky",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "zhytomyr",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "letters",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "booking",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 9,
        "x": 560,
        "y": 680,
        "wires": [
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [
                "e5c93ef228dbda8b"
            ]
        ]
    },
    {
        "id": "3b721c3d631aaaf4",
        "type": "comment",
        "z": "a0068cdd081fd68a",
        "name": "link(1)",
        "info": "",
        "x": 530,
        "y": 120,
        "wires": []
    },
    {
        "id": "daa465bc0bf1af7d",
        "type": "comment",
        "z": "a0068cdd081fd68a",
        "name": "some booking???",
        "info": "",
        "x": 690,
        "y": 680,
        "wires": []
    },
    {
        "id": "a03bf04367c02873",
        "type": "debug",
        "z": "a0068cdd081fd68a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1290,
        "y": 500,
        "wires": []
    },
    {
        "id": "9b96a2a61a243a1a",
        "type": "comment",
        "z": "a0068cdd081fd68a",
        "name": "link(1)",
        "info": "",
        "x": 830,
        "y": 280,
        "wires": []
    },
    {
        "id": "fd1aea6bd31ebef2",
        "type": "comment",
        "z": "a0068cdd081fd68a",
        "name": "link(1)",
        "info": "",
        "x": 830,
        "y": 320,
        "wires": []
    },
    {
        "id": "b2fc6f61efc883e6",
        "type": "comment",
        "z": "a0068cdd081fd68a",
        "name": "link(1)",
        "info": "",
        "x": 830,
        "y": 360,
        "wires": []
    },
    {
        "id": "ec46507f35d1b72b",
        "type": "comment",
        "z": "a0068cdd081fd68a",
        "name": "link(1)",
        "info": "",
        "x": 830,
        "y": 400,
        "wires": []
    },
    {
        "id": "09ae9814a4033de4",
        "type": "comment",
        "z": "a0068cdd081fd68a",
        "name": "link(1)",
        "info": "",
        "x": 830,
        "y": 440,
        "wires": []
    },
    {
        "id": "fb0fb4d4033312ad",
        "type": "comment",
        "z": "a0068cdd081fd68a",
        "name": "link(1)",
        "info": "",
        "x": 830,
        "y": 480,
        "wires": []
    },
    {
        "id": "931463fa8d259866",
        "type": "comment",
        "z": "a0068cdd081fd68a",
        "name": "link(1)",
        "info": "",
        "x": 830,
        "y": 520,
        "wires": []
    },
    {
        "id": "cd3f0139cb8ca5cb",
        "type": "link in",
        "z": "0d90ae961f5c60b9",
        "name": "",
        "links": [
            "ef83c09fbfa3b04d"
        ],
        "x": 135,
        "y": 100,
        "wires": [
            [
                "500e512b791d2e77"
            ]
        ]
    },
    {
        "id": "500e512b791d2e77",
        "type": "send-message",
        "z": "0d90ae961f5c60b9",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "eventKeyboard",
        "props": {
            "bookingKeyboard": [],
            "eventKeyboard": []
        },
        "templateId": "eventKeyboard",
        "templateIdToDelete": "",
        "templatesJsons": {
            "bookingKeyboard": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback2}}",
                            "text": "{{callbackText2}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Ознайомся з правилами бронювання приміщень",
                    "callback2": "agree",
                    "callbackText1": "Правила",
                    "callbackText2": "Ознайомився/лась"
                }
            },
            "eventKeyboard": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "url": "https://docs.google.com/document/d/1KY9PG-fh5CRKax32s-ZTgNJM7pR7_ynp/edit",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback2}}",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "url": "https://lviv.plast.org.ua/plastunam/calendar/",
                            "text": "{{callbackText3}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Ознайомся з правилами проведення заходів",
                    "callback2": "agree",
                    "callbackText1": "Правила",
                    "callbackText2": "Ознайомився/лась",
                    "callbackText3": "Календар подій"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterMessage",
            "callCenterReply",
            "editingKeyboard",
            "emailError",
            "eventAction",
            "eventKeyboard",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Ознакомление с правилами мероприятий",
        "templateDesciptionTextToCreate": "Ознайомся з правилами бронювання приміщень",
        "templateIdToCreate": "eventKeyboard",
        "templateGroupToCreate": "booking",
        "currentTemplateDescription": {
            "details": "Ознакомление с правилами мероприятий",
            "text": "Ознайомся з правилами бронювання приміщень"
        },
        "currentTemplateGroup": "event",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"url\":\"https://docs.google.com/document/d/1KY9PG-fh5CRKax32s-ZTgNJM7pR7_ynp/edit\",\"text\":\"{{callbackText1}}\"}],[{\"callback_data\":\"{{callback2}}\",\"text\":\"{{callbackText2}}\"}],[{\"url\":\"https://lviv.plast.org.ua/plastunam/calendar/\",\"text\":\"{{callbackText3}}\"}]],\"uk\":{\"text\":\"Ознайомся з правилами проведення заходів\",\"callback2\":\"agree\",\"callbackText1\":\"Правила\",\"callbackText2\":\"Ознайомився/лась\",\"callbackText3\":\"Календар подій\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "eventKeyboard",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Ознакомление с правилами мероприятий",
        "templateDesciptionTextToEdit": "Ознайомся з правилами бронювання приміщень",
        "x": 280,
        "y": 100,
        "wires": [
            [
                "a2928088dc908a6f"
            ],
            [],
            []
        ]
    },
    {
        "id": "a2928088dc908a6f",
        "type": "function",
        "z": "0d90ae961f5c60b9",
        "name": "post flow",
        "func": "msg.service = \"CustomerAPI\"\n\nmsg.method = \"POST\"\nmsg.url = `${msg.customerApi}/settings`;\nmsg.headers = {\n    'authorization': msg.customerApiKey,\n    'x-trace-id': msg.traceID,\n    'x-user-id': msg.userID\n}\n\nmsg.payload = {\n    \"flow\": \"event\"\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 100,
        "wires": [
            [
                "b229ae7a5fce86e2"
            ]
        ]
    },
    {
        "id": "b229ae7a5fce86e2",
        "type": "subflow:36a123897fdb2173",
        "z": "0d90ae961f5c60b9",
        "name": "",
        "env": [],
        "x": 660,
        "y": 100,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "85930d66c72bc71f",
        "type": "link in",
        "z": "0d90ae961f5c60b9",
        "name": "",
        "links": [
            "e74a74796b3baafc"
        ],
        "x": 135,
        "y": 300,
        "wires": [
            [
                "caf7f19769f238fc"
            ]
        ]
    },
    {
        "id": "961084e47a45569c",
        "type": "send-message",
        "z": "0d90ae961f5c60b9",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "eventAction",
        "props": {
            "bookingKeyboard": [],
            "eventKeyboard": [],
            "eventAction": []
        },
        "templateId": "eventAction",
        "templateIdToDelete": "",
        "templatesJsons": {
            "bookingKeyboard": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback2}}",
                            "text": "{{callbackText2}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Ознайомся з правилами бронювання приміщень",
                    "callback2": "agree",
                    "callbackText1": "Правила",
                    "callbackText2": "Ознайомився/лась"
                }
            },
            "eventKeyboard": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback2}}",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText3}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Ознайомся з правилами проведення заходів",
                    "callback2": "agree",
                    "callbackText1": "Правила",
                    "callbackText2": "Ознайомився/лась",
                    "callbackText3": "Календар подій"
                }
            },
            "eventAction": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "url": "https://docs.google.com/forms/d/e/1FAIpQLSeiouNax19c_N41JyvJb3Lgf_i0Nd1zUSsCcpGQrzbLH8cHOw/viewform?fbclid=IwAR2gVkKRJv-aKPaQ3zjZ6ZRsmgeniRMm3JdzQibrrnX-HNT9EmXGgAHUrio",
                            "text": "{{callbackText1}}"
                        },
                        {
                            "callback_data": "{{callback2}}",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "url": "https://docs.google.com/forms/d/1tgonj6-54tUC7nWOqUMCpzaxXfbu5jKP_h46aVomtcE/viewform?fbclid=IwAR2040u5USAH0eX3INzjRBWJr7BLy1rEeXvyaOmormGfBU8wJQA-Ph5B_HM&edit_requested=true",
                            "text": "{{callbackText3}}"
                        },
                        {
                            "url": "https://docs.google.com/forms/d/e/1FAIpQLSdtopwojEln_5LCroc7Ipc5fHmPfKKKeygfd82aqyPHik7QPA/viewform",
                            "text": "{{callbackText4}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback5}}",
                            "text": "{{callbackText5}}"
                        },
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText6}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Що саме тебе цікавить?",
                    "callback2": "renting",
                    "callback5": "fundraising",
                    "callbackText1": "Зголошення заходів",
                    "callbackText2": "Оренда майна",
                    "callbackText3": "Звітування про захід",
                    "callbackText4": "Піар заходів",
                    "callbackText5": "Фандрейзінг",
                    "callbackText6": "Фінансування"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterMessage",
            "callCenterReply",
            "editingKeyboard",
            "emailError",
            "eventAction",
            "eventKeyboard",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Клавиатура мероприятий",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "eventAction",
        "templateGroupToCreate": "booking",
        "currentTemplateDescription": {
            "details": "Клавиатура мероприятий"
        },
        "currentTemplateGroup": "event",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"url\":\"https://docs.google.com/forms/d/e/1FAIpQLSeiouNax19c_N41JyvJb3Lgf_i0Nd1zUSsCcpGQrzbLH8cHOw/viewform?fbclid=IwAR2gVkKRJv-aKPaQ3zjZ6ZRsmgeniRMm3JdzQibrrnX-HNT9EmXGgAHUrio\",\"text\":\"{{callbackText1}}\"},{\"callback_data\":\"{{callback2}}\",\"text\":\"{{callbackText2}}\"}],[{\"url\":\"https://docs.google.com/forms/d/1tgonj6-54tUC7nWOqUMCpzaxXfbu5jKP_h46aVomtcE/viewform?fbclid=IwAR2040u5USAH0eX3INzjRBWJr7BLy1rEeXvyaOmormGfBU8wJQA-Ph5B_HM&edit_requested=true\",\"text\":\"{{callbackText3}}\"},{\"url\":\"https://docs.google.com/forms/d/e/1FAIpQLSdtopwojEln_5LCroc7Ipc5fHmPfKKKeygfd82aqyPHik7QPA/viewform\",\"text\":\"{{callbackText4}}\"}],[{\"callback_data\":\"{{callback5}}\",\"text\":\"{{callbackText5}}\"},{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText6}}\"}]],\"uk\":{\"text\":\"Що саме тебе цікавить?\",\"callback2\":\"renting\",\"callback5\":\"fundraising\",\"callbackText1\":\"Зголошення заходів\",\"callbackText2\":\"Оренда майна\",\"callbackText3\":\"Звітування про захід\",\"callbackText4\":\"Піар заходів\",\"callbackText5\":\"Фандрейзінг\",\"callbackText6\":\"Фінансування\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "eventAction",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Клавиатура мероприятий",
        "templateDesciptionTextToEdit": "",
        "x": 430,
        "y": 380,
        "wires": [
            [
                "4a72d4f70cbd0eef"
            ],
            [],
            []
        ]
    },
    {
        "id": "d5c3d6df6d2334b5",
        "type": "comment",
        "z": "0d90ae961f5c60b9",
        "name": "link(1)",
        "info": "",
        "x": 510,
        "y": 360,
        "wires": []
    },
    {
        "id": "caf7f19769f238fc",
        "type": "switch",
        "z": "0d90ae961f5c60b9",
        "name": "",
        "property": "text",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "renting",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "agree",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "fundraising",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 230,
        "y": 340,
        "wires": [
            [
                "cddb1cd378f703cb"
            ],
            [
                "961084e47a45569c"
            ],
            [
                "6db2ab048450e0e0"
            ]
        ]
    },
    {
        "id": "cddb1cd378f703cb",
        "type": "link out",
        "z": "0d90ae961f5c60b9",
        "name": "rentingKeyboard",
        "mode": "link",
        "links": [
            "0d9946feeb7b7e3b",
            "31c7f4d7c33b0444"
        ],
        "x": 440,
        "y": 220,
        "wires": [],
        "l": true
    },
    {
        "id": "4a72d4f70cbd0eef",
        "type": "send-message",
        "z": "0d90ae961f5c60b9",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "eventMessage",
        "props": {
            "eventMessage": []
        },
        "templateId": "eventMessage",
        "templateIdToDelete": "",
        "templatesJsons": {
            "eventMessage": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText2}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Не забувай позначати сторінки Пласт Львів у соцмережах під час комунікації про захід. Соцмережі станиці Львів:",
                    "callbackText1": "social network1",
                    "callbackText2": "social network2"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterMessage",
            "callCenterReply",
            "editingKeyboard",
            "emailError",
            "eventAction",
            "eventKeyboard",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"inline\":[[{\"callback_data\":\"{{callback1}}\",\"text\":\"{{callbackText1}}\"}],[{\"callback_data\":\"{{callback2}}\",\"text\":\"{{callbackText2}}\"}]],\"uk\":{\"text\":\"Не забувай\",\"callback1\":\"menu\",\"callback2\":\"back\",\"callbackText1\":\"Menu\",\"callbackText2\":\"Back\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Соцсети пласта во Львове",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "eventMessage",
        "templateGroupToCreate": "event",
        "currentTemplateDescription": {
            "details": "Соцсети пласта во Львове"
        },
        "currentTemplateGroup": "event",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText1}}\"}],[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText2}}\"}]],\"uk\":{\"text\":\"Не забувай позначати сторінки Пласт Львів у соцмережах під час комунікації про захід. Соцмережі станиці Львів:\",\"callbackText1\":\"social network1\",\"callbackText2\":\"social network2\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "eventMessage",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Соцсети пласта во Львове",
        "templateDesciptionTextToEdit": "",
        "x": 680,
        "y": 380,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "1e858bb713ad2c89",
        "type": "comment",
        "z": "0d90ae961f5c60b9",
        "name": "link(?)",
        "info": "",
        "x": 750,
        "y": 360,
        "wires": []
    },
    {
        "id": "6db2ab048450e0e0",
        "type": "send-message",
        "z": "0d90ae961f5c60b9",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "fundraising",
        "props": {
            "fundraising": []
        },
        "templateId": "fundraising",
        "templateIdToDelete": "",
        "templatesJsons": {
            "fundraising": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "url": "https://drive.google.com/file/d/1bd4e7cEaaQlK-ml6hzpputanz8OnPPfc/view",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "url": "https://drive.google.com/drive/folders/1gUvxeMkUSBL4vI9cM_swR7ljR6oxiWqJ",
                            "text": "{{callbackText1}}"
                        }
                    ]
                ],
                "en": {
                    "text": "Фандрейзинг",
                    "callbackText1": "Menu",
                    "callbackText2": "Back"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterMessage",
            "callCenterReply",
            "editingKeyboard",
            "emailError",
            "eventAction",
            "eventKeyboard",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Фандрейзинг",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "fundraising",
        "templateGroupToCreate": "event",
        "currentTemplateDescription": {
            "details": "Фандрейзинг"
        },
        "currentTemplateGroup": "event",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"url\":\"https://drive.google.com/file/d/1bd4e7cEaaQlK-ml6hzpputanz8OnPPfc/view\",\"text\":\"{{callbackText1}}\"}],[{\"url\":\"https://drive.google.com/drive/folders/1gUvxeMkUSBL4vI9cM_swR7ljR6oxiWqJ\",\"text\":\"{{callbackText1}}\"}]],\"en\":{\"text\":\"Фандрейзинг\",\"callbackText1\":\"Menu\",\"callbackText2\":\"Back\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "fundraising",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Фандрейзинг",
        "templateDesciptionTextToEdit": "",
        "x": 430,
        "y": 460,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "31c7f4d7c33b0444",
        "type": "link in",
        "z": "a0e9a266c20ad908",
        "name": "",
        "links": [
            "cddb1cd378f703cb"
        ],
        "x": 235,
        "y": 120,
        "wires": [
            [
                "f38fea0712ab45a8"
            ]
        ]
    },
    {
        "id": "ec3fde59c2bd185e",
        "type": "link in",
        "z": "a0e9a266c20ad908",
        "name": "",
        "links": [
            "ba1682125b1b1b8a"
        ],
        "x": 235,
        "y": 160,
        "wires": [
            [
                "f38fea0712ab45a8"
            ]
        ]
    },
    {
        "id": "f38fea0712ab45a8",
        "type": "send-message",
        "z": "a0e9a266c20ad908",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "rentingMessage",
        "props": {
            "rentingMessage": []
        },
        "templateId": "rentingMessage",
        "templateIdToDelete": "",
        "templatesJsons": {
            "rentingMessage": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "url": "https://docs.google.com/forms/d/e/1FAIpQLSfMj-lM1n0WVLTBjz5slIM90VavhnJCLXmiNnDjpy119cpxPQ/viewform",
                            "text": "{{callbackText1}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Для оренди майна заповніть дану форму",
                    "callbackText1": "Форма"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterLetter",
            "callCenterMessage",
            "callCenterReply",
            "campLetter",
            "editingKeyboard",
            "emailError",
            "eventAccept",
            "eventAction",
            "eventKeyboard",
            "eventLetter",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "lettersKeyboard",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "rentingMessage",
            "roomLetter",
            "schoolLetter",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"inline\":[[{\"url\":\"https://docs.google.com/forms/d/e/1FAIpQLSfMj-lM1n0WVLTBjz5slIM90VavhnJCLXmiNnDjpy119cpxPQ/viewform\",\"text\":\"{{callbackText1}}\"}]],\"uk\":{\"text\":\"Для оренди майна заповніть дану форму\",\"callbackText1\":\"Форма\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Форма для оренды имущества",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "rentingMessage",
        "templateGroupToCreate": "renting",
        "currentTemplateDescription": {
            "details": "Форма для оренды имущества"
        },
        "currentTemplateGroup": "renting",
        "currentTemplateType": "standard",
        "jsonToEdit": "",
        "jsonToEditType": "json",
        "templateIdToEdit": "",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "",
        "templateDesciptionTextToEdit": "",
        "x": 380,
        "y": 140,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "b29763b054efaf97",
        "type": "comment",
        "z": "a0e9a266c20ad908",
        "name": "what do they want???",
        "info": "",
        "x": 480,
        "y": 120,
        "wires": []
    },
    {
        "id": "3c0cb106be240bfe",
        "type": "link in",
        "z": "e233a505cfa46b53",
        "name": "",
        "links": [
            "36b589d68dc65082"
        ],
        "x": 205,
        "y": 120,
        "wires": [
            [
                "83ab75a52a6bdbe8"
            ]
        ]
    },
    {
        "id": "f616c92c523db05e",
        "type": "link in",
        "z": "e233a505cfa46b53",
        "name": "",
        "links": [
            "e4a21a974488973e"
        ],
        "x": 205,
        "y": 160,
        "wires": [
            [
                "83ab75a52a6bdbe8"
            ]
        ]
    },
    {
        "id": "83ab75a52a6bdbe8",
        "type": "send-message",
        "z": "e233a505cfa46b53",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "lettersKeyboard",
        "props": {
            "lettersKeyboard": []
        },
        "templateId": "lettersKeyboard",
        "templateIdToDelete": "",
        "templatesJsons": {
            "lettersKeyboard": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback2}}",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback3}}",
                            "text": "{{callbackText3}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback4}}",
                            "text": "{{callbackText4}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback5}}",
                            "text": "{{callbackText5}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Для отримання офіційоного листа від станиці обери необхідний запит та напиши боту усі дані. Коли лист буде готовий - ми напишемо тоді у Telegram. Забрати листа можна в офісі станиці за адресою вул. Шептицьких, 16, 4 поверх - на щитку (код 307)",
                    "callback1": "school",
                    "callback2": "event",
                    "callback3": "room",
                    "callback4": "camp",
                    "callback5": "talk",
                    "callbackText1": "Отримання звільнення від школи",
                    "callbackText2": "Наказ на захід",
                    "callbackText3": "Лист на приміщення",
                    "callbackText4": "Наказ про табір",
                    "callbackText5": "Інший запит"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterLetter",
            "callCenterMessage",
            "callCenterReply",
            "campLetter",
            "editingKeyboard",
            "emailError",
            "eventAccept",
            "eventAction",
            "eventKeyboard",
            "eventLetter",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "lettersKeyboard",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "roomLetter",
            "schoolLetter",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Клавиатура листов",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "lettersKeyboard",
        "templateGroupToCreate": "letters",
        "currentTemplateDescription": {
            "details": "Клавиатура листов"
        },
        "currentTemplateGroup": "letters",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"callback_data\":\"{{callback1}}\",\"text\":\"{{callbackText1}}\"}],[{\"callback_data\":\"{{callback2}}\",\"text\":\"{{callbackText2}}\"}],[{\"callback_data\":\"{{callback3}}\",\"text\":\"{{callbackText3}}\"}],[{\"callback_data\":\"{{callback4}}\",\"text\":\"{{callbackText4}}\"}],[{\"callback_data\":\"{{callback5}}\",\"text\":\"{{callbackText5}}\"}]],\"uk\":{\"text\":\"Для отримання офіційоного листа від станиці обери необхідний запит та напиши боту усі дані. Коли лист буде готовий - ми напишемо тоді у Telegram. Забрати листа можна в офісі станиці за адресою вул. Шептицьких, 16, 4 поверх - на щитку (код 307)\",\"callback1\":\"school\",\"callback2\":\"event\",\"callback3\":\"room\",\"callback4\":\"camp\",\"callback5\":\"talk\",\"callbackText1\":\"Отримання звільнення від школи\",\"callbackText2\":\"Наказ на захід\",\"callbackText3\":\"Лист на приміщення\",\"callbackText4\":\"Наказ про табір\",\"callbackText5\":\"Інший запит\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "lettersKeyboard",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Клавиатура листов",
        "templateDesciptionTextToEdit": "",
        "x": 360,
        "y": 140,
        "wires": [
            [
                "1bcfa2c5dcdeab67"
            ],
            [],
            []
        ]
    },
    {
        "id": "3c79bdb48fd1d041",
        "type": "link out",
        "z": "e233a505cfa46b53",
        "name": "callCenter",
        "mode": "link",
        "links": [
            "283e5217fccfad85"
        ],
        "x": 700,
        "y": 380,
        "wires": [],
        "l": true
    },
    {
        "id": "8a89e210c2ccaed6",
        "type": "switch",
        "z": "e233a505cfa46b53",
        "name": "callback",
        "property": "text",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "school",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "event",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "room",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "camp",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "talk",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 500,
        "y": 300,
        "wires": [
            [
                "acf4665e3c204b1e"
            ],
            [
                "e0a295cd9adbf21c"
            ],
            [
                "9819e0a1bcca8372"
            ],
            [
                "25c96268abe5f4c5"
            ],
            [
                "3c79bdb48fd1d041"
            ]
        ]
    },
    {
        "id": "1bcfa2c5dcdeab67",
        "type": "function",
        "z": "e233a505cfa46b53",
        "name": "post flow",
        "func": "msg.service = \"CustomerAPI\"\n\nmsg.method = \"POST\"\nmsg.url = `${msg.customerApi}/settings`;\nmsg.headers = {\n    'authorization': msg.customerApiKey,\n    'x-trace-id': msg.traceID,\n    'x-user-id': msg.userID\n}\n\nmsg.payload = {\n    \"flow\": \"letters\"\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 140,
        "wires": [
            [
                "587065b8fa42a27c"
            ]
        ]
    },
    {
        "id": "587065b8fa42a27c",
        "type": "subflow:36a123897fdb2173",
        "z": "e233a505cfa46b53",
        "name": "",
        "env": [],
        "x": 700,
        "y": 140,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "8826bbc4030d689e",
        "type": "link in",
        "z": "e233a505cfa46b53",
        "name": "",
        "links": [
            "49cf488ccfeee6be"
        ],
        "x": 205,
        "y": 420,
        "wires": [
            [
                "4519ec1ab316c6e9"
            ]
        ]
    },
    {
        "id": "acf4665e3c204b1e",
        "type": "send-message",
        "z": "e233a505cfa46b53",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "schoolLetter",
        "props": {
            "schoolLetter": []
        },
        "templateId": "schoolLetter",
        "templateIdToDelete": "",
        "templatesJsons": {
            "schoolLetter": {
                "text": "{{text}}",
                "uk": {
                    "text": "Лист на звільнення від школи\nНадіслати одним повідомленням\n1. Школа (повна назва)\n2. Директор школи (ПІБ)\n3. Клас навчання (у форматі '4-Б')\n4. І'мя дитини (ПІБ)\n5. На який захід потрібно звільнення"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterMessage",
            "callCenterReply",
            "campLetter",
            "editingKeyboard",
            "emailError",
            "eventAccept",
            "eventAction",
            "eventKeyboard",
            "eventLetter",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "lettersKeyboard",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "roomLetter",
            "schoolLetter",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Лист на освобождение от школы",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "schoolLetter",
        "templateGroupToCreate": "letters",
        "currentTemplateDescription": {
            "details": "Лист на освобождение от школы"
        },
        "currentTemplateGroup": "letters",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Лист на звільнення від школи\\nНадіслати одним повідомленням\\n1. Школа (повна назва)\\n2. Директор школи (ПІБ)\\n3. Клас навчання (у форматі '4-Б')\\n4. І'мя дитини (ПІБ)\\n5. На який захід потрібно звільнення\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "schoolLetter",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Лист на освобождение от школы",
        "templateDesciptionTextToEdit": "",
        "x": 710,
        "y": 220,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "4519ec1ab316c6e9",
        "type": "switch",
        "z": "e233a505cfa46b53",
        "name": "",
        "property": "state",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "lettersKeyboard",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "eventAccept",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "schoolLetter",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "eventLetter",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "campLetter",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 5,
        "x": 310,
        "y": 520,
        "wires": [
            [
                "8a89e210c2ccaed6"
            ],
            [
                "4ca3d6c091999921"
            ],
            [
                "b097c8aba6fc641a"
            ],
            [
                "196bd002ac267e8c"
            ],
            [
                "b86a9ef41ac37ae5"
            ]
        ]
    },
    {
        "id": "e0a295cd9adbf21c",
        "type": "send-message",
        "z": "e233a505cfa46b53",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "eventAccept",
        "props": {
            "eventAccept": []
        },
        "templateId": "eventAccept",
        "templateIdToDelete": "",
        "templatesJsons": {
            "eventAccept": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "url": "https://docs.google.com/forms/d/e/1FAIpQLSeiouNax19c_N41JyvJb3Lgf_i0Nd1zUSsCcpGQrzbLH8cHOw/viewform?fbclid=IwAR2gVkKRJv-aKPaQ3zjZ6ZRsmgeniRMm3JdzQibrrnX-HNT9EmXGgAHUrio",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback2}}",
                            "text": "{{callbackText2}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Щоб отримати наказ на захід його спершу потрібно зголосити на станицю та отримати затвердження.",
                    "callback2": "eventAccept",
                    "callbackText1": "Зголошення за покликанням",
                    "callbackText2": "Вже зголосили вихід на станицю"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterLetter",
            "callCenterMessage",
            "callCenterReply",
            "campLetter",
            "editingKeyboard",
            "emailError",
            "eventAccept",
            "eventAction",
            "eventKeyboard",
            "eventLetter",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "lettersKeyboard",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "roomLetter",
            "schoolLetter",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Вопрос про лист на мероприятия",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "eventAccept",
        "templateGroupToCreate": "letters",
        "currentTemplateDescription": {
            "details": "Вопрос про лист на мероприятия"
        },
        "currentTemplateGroup": "letters",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"url\":\"https://docs.google.com/forms/d/e/1FAIpQLSeiouNax19c_N41JyvJb3Lgf_i0Nd1zUSsCcpGQrzbLH8cHOw/viewform?fbclid=IwAR2gVkKRJv-aKPaQ3zjZ6ZRsmgeniRMm3JdzQibrrnX-HNT9EmXGgAHUrio\",\"text\":\"{{callbackText1}}\"}],[{\"callback_data\":\"{{callback2}}\",\"text\":\"{{callbackText2}}\"}]],\"uk\":{\"text\":\"Щоб отримати наказ на захід його спершу потрібно зголосити на станицю та отримати затвердження.\",\"callback2\":\"eventAccept\",\"callbackText1\":\"Зголошення за покликанням\",\"callbackText2\":\"Вже зголосили вихід на станицю\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "eventAccept",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Вопрос про лист на мероприятия",
        "templateDesciptionTextToEdit": "",
        "x": 710,
        "y": 260,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "4ca3d6c091999921",
        "type": "send-message",
        "z": "e233a505cfa46b53",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "eventLetter",
        "props": {
            "eventLetter": []
        },
        "templateId": "eventLetter",
        "templateIdToDelete": "",
        "templatesJsons": {
            "eventLetter": {
                "text": "{{text}}",
                "uk": {
                    "text": "Наказ на захід\nНадіслати одним повідомленням\nНазва заходу\nПовний список учасників заходу (ПІБ, дати народження, адреси проживання і пластові ступені)"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterLetter",
            "callCenterMessage",
            "callCenterReply",
            "campLetter",
            "editingKeyboard",
            "emailError",
            "eventAccept",
            "eventAction",
            "eventKeyboard",
            "eventLetter",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "lettersKeyboard",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "roomLetter",
            "schoolLetter",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Лист на мероприятие",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "eventLetter",
        "templateGroupToCreate": "letters",
        "currentTemplateDescription": {
            "details": "Лист на мероприятие"
        },
        "currentTemplateGroup": "letters",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Наказ на захід\\nНадіслати одним повідомленням\\nНазва заходу\\nПовний список учасників заходу (ПІБ, дати народження, адреси проживання і пластові ступені)\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "eventLetter",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Лист на мероприятие",
        "templateDesciptionTextToEdit": "",
        "x": 510,
        "y": 440,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "b995e7888ec6c56d",
        "type": "link out",
        "z": "e233a505cfa46b53",
        "name": "CallCenter",
        "mode": "link",
        "links": [
            "870cbec55b4fbd75",
            "6930589f057d447e"
        ],
        "x": 730,
        "y": 540,
        "wires": [],
        "l": true
    },
    {
        "id": "9819e0a1bcca8372",
        "type": "send-message",
        "z": "e233a505cfa46b53",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "roomLetter",
        "props": {
            "roomLetter": []
        },
        "templateId": "roomLetter",
        "templateIdToDelete": "",
        "templatesJsons": {
            "roomLetter": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "url": "https://forms.gle/rebbTPiUmVELgeYp7",
                            "text": "{{callbackText1}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Для отримання приміщення на проведення заходу просимо заповнити наступну форму",
                    "callbackText1": "Заповнити"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterMessage",
            "callCenterReply",
            "campLetter",
            "editingKeyboard",
            "emailError",
            "eventAccept",
            "eventAction",
            "eventKeyboard",
            "eventLetter",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "lettersKeyboard",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "roomLetter",
            "schoolLetter",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"inline\":[[{\"url\":\"https://forms.gle/rebbTPiUmVELgeYp7\",\"text\":\"{{callbackText1}}\"}]],\"uk\":{\"text\":\"Для отримання приміщення на проведення заходу просимо заповнити наступну форму\",\"callbackText1\":\"Заповнити\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Лист на помещение",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "roomLetter",
        "templateGroupToCreate": "letters",
        "currentTemplateDescription": {
            "details": "Лист на помещение"
        },
        "currentTemplateGroup": "letters",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "",
        "jsonToEditType": "json",
        "templateIdToEdit": "",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "",
        "templateDesciptionTextToEdit": "",
        "x": 710,
        "y": 300,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "25c96268abe5f4c5",
        "type": "send-message",
        "z": "e233a505cfa46b53",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "campLetter",
        "props": {
            "campLetter": []
        },
        "templateId": "campLetter",
        "templateIdToDelete": "",
        "templatesJsons": {
            "campLetter": {
                "text": "{{text}}",
                "uk": {
                    "text": "Наказ про табір\nНадіслати одним повідомленням\nПовний список учасників заходу (ПІБ, дати народження, адреси проживання і пластові ступені)"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterLetter",
            "callCenterMessage",
            "callCenterReply",
            "campLetter",
            "editingKeyboard",
            "emailError",
            "eventAccept",
            "eventAction",
            "eventKeyboard",
            "eventLetter",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "lettersKeyboard",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "roomLetter",
            "schoolLetter",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Лист на лагерь",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "campLetter",
        "templateGroupToCreate": "letters",
        "currentTemplateDescription": {
            "details": "Лист на лагерь"
        },
        "currentTemplateGroup": "letters",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"Наказ про табір\\nНадіслати одним повідомленням\\nПовний список учасників заходу (ПІБ, дати народження, адреси проживання і пластові ступені)\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "campLetter",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Лист на лагерь",
        "templateDesciptionTextToEdit": "",
        "x": 710,
        "y": 340,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "92e634dbb8e787b3",
        "type": "comment",
        "z": "e233a505cfa46b53",
        "name": "15feb",
        "info": "",
        "x": 810,
        "y": 340,
        "wires": []
    },
    {
        "id": "b097c8aba6fc641a",
        "type": "change",
        "z": "e233a505cfa46b53",
        "name": "letterType",
        "rules": [
            {
                "t": "set",
                "p": "letterType",
                "pt": "msg",
                "to": "лист на звільнення від школи",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 500,
        "wires": [
            [
                "b995e7888ec6c56d"
            ]
        ]
    },
    {
        "id": "196bd002ac267e8c",
        "type": "change",
        "z": "e233a505cfa46b53",
        "name": "letterType",
        "rules": [
            {
                "t": "set",
                "p": "letterType",
                "pt": "msg",
                "to": "наказ на захід",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 540,
        "wires": [
            [
                "b995e7888ec6c56d"
            ]
        ]
    },
    {
        "id": "b86a9ef41ac37ae5",
        "type": "change",
        "z": "e233a505cfa46b53",
        "name": "letterType",
        "rules": [
            {
                "t": "set",
                "p": "letterType",
                "pt": "msg",
                "to": "Наказ про табір",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 580,
        "wires": [
            [
                "b995e7888ec6c56d"
            ]
        ]
    },
    {
        "id": "256ecc5ecca65ccb",
        "type": "link in",
        "z": "c6a1e1f8b3daa3fd",
        "name": "",
        "links": [
            "6af014d4494ee274"
        ],
        "x": 245,
        "y": 120,
        "wires": [
            [
                "2736e4c3a04b7a47"
            ]
        ]
    },
    {
        "id": "2736e4c3a04b7a47",
        "type": "send-message",
        "z": "c6a1e1f8b3daa3fd",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "organizatonKeyboard",
        "props": {
            "menuKeyboard": [],
            "lettersKeyboard": [],
            "organizatonKeyboard": []
        },
        "templateId": "organizatonKeyboard",
        "templateIdToDelete": "",
        "templatesJsons": {
            "menuKeyboard": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        },
                        {
                            "callback_data": "{{callback2}}",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback3}}",
                            "text": "{{callbackText3}}"
                        },
                        {
                            "callback_data": "{{callback4}}",
                            "text": "{{callbackText4}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback5}}",
                            "text": "{{callbackText5}}"
                        },
                        {
                            "callback_data": "{{callback6}}",
                            "text": "{{callbackText6}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "З яким запитом ти звертаєшся?",
                    "callback1": "booking",
                    "callback2": "renting",
                    "callback3": "events",
                    "callback4": "organization",
                    "callback5": "letters",
                    "callback6": "other",
                    "callbackText1": "Бронювання приміщень",
                    "callbackText2": "Оренда",
                    "callbackText3": "Заходи",
                    "callbackText4": "Улади",
                    "callbackText5": "Листи",
                    "callbackText6": "Інші питання"
                }
            },
            "organizatonKeyboard": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        },
                        {
                            "callback_data": "{{callback2}}",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback3}}",
                            "text": "{{callbackText3}}"
                        },
                        {
                            "callback_data": "{{callback4}}",
                            "text": "{{callbackText4}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Улади",
                    "callback1": "усп",
                    "callback2": "упю",
                    "callback3": "упн",
                    "callback4": "упп",
                    "callbackText1": "УСП/УПС",
                    "callbackText2": "УПЮ",
                    "callbackText3": "УПН",
                    "callbackText4": "УПП"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterMessage",
            "callCenterReply",
            "editingKeyboard",
            "emailError",
            "eventAction",
            "eventKeyboard",
            "eventMessage",
            "firstNameError",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Вызов клавиатуры уладов",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "organizatonKeyboard",
        "templateGroupToCreate": "letters",
        "currentTemplateDescription": {
            "details": "Вызов клавиатуры уладов"
        },
        "currentTemplateGroup": "organization",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"callback_data\":\"{{callback1}}\",\"text\":\"{{callbackText1}}\"},{\"callback_data\":\"{{callback2}}\",\"text\":\"{{callbackText2}}\"}],[{\"callback_data\":\"{{callback3}}\",\"text\":\"{{callbackText3}}\"},{\"callback_data\":\"{{callback4}}\",\"text\":\"{{callbackText4}}\"}]],\"uk\":{\"text\":\"Улади\",\"callback1\":\"усп\",\"callback2\":\"упю\",\"callback3\":\"упн\",\"callback4\":\"упп\",\"callbackText1\":\"УСП/УПС\",\"callbackText2\":\"УПЮ\",\"callbackText3\":\"УПН\",\"callbackText4\":\"УПП\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "organizatonKeyboard",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Вызов клавиатуры уладов",
        "templateDesciptionTextToEdit": "",
        "x": 400,
        "y": 120,
        "wires": [
            [
                "68bdee470442620f"
            ],
            [],
            []
        ]
    },
    {
        "id": "68bdee470442620f",
        "type": "function",
        "z": "c6a1e1f8b3daa3fd",
        "name": "post flow",
        "func": "msg.service = \"CustomerAPI\"\n\nmsg.method = \"POST\"\nmsg.url = `${msg.customerApi}/settings`;\nmsg.headers = {\n    'authorization': msg.customerApiKey,\n    'x-trace-id': msg.traceID,\n    'x-user-id': msg.userID\n}\n\nmsg.payload = {\n    \"flow\": \"organization\"\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 120,
        "wires": [
            [
                "a71d049d4728e66c"
            ]
        ]
    },
    {
        "id": "a71d049d4728e66c",
        "type": "subflow:36a123897fdb2173",
        "z": "c6a1e1f8b3daa3fd",
        "name": "",
        "env": [],
        "x": 760,
        "y": 120,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "00520bb948ad06d3",
        "type": "link in",
        "z": "c6a1e1f8b3daa3fd",
        "name": "",
        "links": [
            "c2f67495c4e995d2"
        ],
        "x": 235,
        "y": 300,
        "wires": [
            [
                "b0b04c0acfcb8c40"
            ]
        ]
    },
    {
        "id": "b0b04c0acfcb8c40",
        "type": "switch",
        "z": "c6a1e1f8b3daa3fd",
        "name": "callback",
        "property": "text",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "усп",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "упю",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "упн",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "упп",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 360,
        "y": 300,
        "wires": [
            [
                "3549e948ba451d3b"
            ],
            [
                "c73881e3d45fa994"
            ],
            [
                "74d7d856154e1b6e"
            ],
            [
                "fd295617a95ca829"
            ]
        ]
    },
    {
        "id": "3549e948ba451d3b",
        "type": "send-message",
        "z": "c6a1e1f8b3daa3fd",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "uspKeyboard",
        "props": {
            "menuKeyboard": [],
            "lettersKeyboard": [],
            "organizatonKeyboard": [],
            "uspKeyboard": []
        },
        "templateId": "uspKeyboard",
        "templateIdToDelete": "",
        "templatesJsons": {
            "menuKeyboard": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        },
                        {
                            "callback_data": "{{callback2}}",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback3}}",
                            "text": "{{callbackText3}}"
                        },
                        {
                            "callback_data": "{{callback4}}",
                            "text": "{{callbackText4}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback5}}",
                            "text": "{{callbackText5}}"
                        },
                        {
                            "callback_data": "{{callback6}}",
                            "text": "{{callbackText6}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "З яким запитом ти звертаєшся?",
                    "callback1": "booking",
                    "callback2": "renting",
                    "callback3": "events",
                    "callback4": "organization",
                    "callback5": "letters",
                    "callback6": "other",
                    "callbackText1": "Бронювання приміщень",
                    "callbackText2": "Оренда",
                    "callbackText3": "Заходи",
                    "callbackText4": "Улади",
                    "callbackText5": "Листи",
                    "callbackText6": "Інші питання"
                }
            },
            "organizatonKeyboard": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        },
                        {
                            "callback_data": "{{callback2}}",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback3}}",
                            "text": "{{callbackText3}}"
                        },
                        {
                            "callback_data": "{{callback4}}",
                            "text": "{{callbackText4}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Улади",
                    "callback1": "усп",
                    "callback2": "упю",
                    "callback3": "упн",
                    "callback4": "упп",
                    "callbackText1": "УСП/УПС",
                    "callbackText2": "УПЮ",
                    "callbackText3": "УПН",
                    "callbackText4": "УПП"
                }
            },
            "uspKeyboard": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText2}}"
                        }
                    ],
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText3}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "УСП/УПС",
                    "callbackText1": "Дізнатись актуальну вкладку",
                    "callbackText2": "Сплатити вкладку",
                    "callbackText3": "Інформація про борги"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterMessage",
            "callCenterReply",
            "editingKeyboard",
            "emailError",
            "eventAction",
            "eventKeyboard",
            "eventMessage",
            "firstNameError",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Вызов клавиатуры УСП",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "uspKeyboard",
        "templateGroupToCreate": "organization",
        "currentTemplateDescription": {
            "details": "Вызов клавиатуры УСП"
        },
        "currentTemplateGroup": "organization",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText1}}\"}],[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText2}}\"}],[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText3}}\"}]],\"uk\":{\"text\":\"УСП/УПС\",\"callbackText1\":\"Дізнатись актуальну вкладку\",\"callbackText2\":\"Сплатити вкладку\",\"callbackText3\":\"Інформація про борги\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "uspKeyboard",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Вызов клавиатуры УСП",
        "templateDesciptionTextToEdit": "",
        "x": 570,
        "y": 220,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "c73881e3d45fa994",
        "type": "send-message",
        "z": "c6a1e1f8b3daa3fd",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "upyuKeyboard",
        "props": {
            "upyuKeyboard": []
        },
        "templateId": "upyuKeyboard",
        "templateIdToDelete": "",
        "templatesJsons": {
            "upnKeyboard": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "url": "https://www.google.com/"
                        }
                    ],
                    [
                        {
                            "callback_data": "{{callback2}}",
                            "url": "https://www.google.com/"
                        }
                    ]
                ],
                "uk": {
                    "text": "УПН",
                    "callbackText3": "Звітування",
                    "callbackText2": "Дізнатись актуальну вкладку"
                }
            },
            "upyuKeyboard": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText2}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "УПЮ",
                    "callbackText1": "Звітування",
                    "callbackText2": "Дізнатись актуальну вкладку"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterMessage",
            "callCenterReply",
            "editingKeyboard",
            "emailError",
            "eventAction",
            "eventKeyboard",
            "eventMessage",
            "firstNameError",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Вызов клавиатуры УПЮ",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "upyuKeyboard",
        "templateGroupToCreate": "organization",
        "currentTemplateDescription": {
            "details": "Вызов клавиатуры УПЮ"
        },
        "currentTemplateGroup": "organization",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText1}}\"}],[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText2}}\"}]],\"uk\":{\"text\":\"УПЮ\",\"callbackText1\":\"Звітування\",\"callbackText2\":\"Дізнатись актуальну вкладку\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "upyuKeyboard",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Вызов клавиатуры УПЮ",
        "templateDesciptionTextToEdit": "",
        "x": 580,
        "y": 280,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "74d7d856154e1b6e",
        "type": "send-message",
        "z": "c6a1e1f8b3daa3fd",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "upnKeyboard",
        "props": {
            "upnKeyboard": []
        },
        "templateId": "upnKeyboard",
        "templateIdToDelete": "",
        "templatesJsons": {
            "upnKeyboard": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText2}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "УПН",
                    "callbackText1": "Звітування",
                    "callbackText2": "Дізнатись актуальну вкладку"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterMessage",
            "callCenterReply",
            "editingKeyboard",
            "emailError",
            "eventAction",
            "eventKeyboard",
            "eventMessage",
            "firstNameError",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Вызов клавиатуры УПН",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "upnKeyboard",
        "templateGroupToCreate": "organization",
        "currentTemplateDescription": {
            "details": "УПН клавиатура"
        },
        "currentTemplateGroup": "organization",
        "currentTemplateTimer": null,
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText1}}\"}],[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText2}}\"}]],\"uk\":{\"text\":\"УПН\",\"callbackText1\":\"Звітування\",\"callbackText2\":\"Дізнатись актуальну вкладку\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "upnKeyboard",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "УПН клавиатура",
        "templateDesciptionTextToEdit": "",
        "x": 570,
        "y": 340,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "fd295617a95ca829",
        "type": "send-message",
        "z": "c6a1e1f8b3daa3fd",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "uppKeyboard",
        "props": {
            "uppKeyboard": []
        },
        "templateId": "uppKeyboard",
        "templateIdToDelete": "",
        "templatesJsons": {
            "uppKeyboard": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText1}}"
                        }
                    ],
                    [
                        {
                            "url": "https://www.google.com/",
                            "text": "{{callbackText2}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "УПП",
                    "callbackText1": "Звітування",
                    "callbackText2": "Дізнатись актуальну вкладку"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterMessage",
            "callCenterReply",
            "editingKeyboard",
            "emailError",
            "eventAction",
            "eventKeyboard",
            "eventMessage",
            "firstNameError",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Вызов клавиатуры УПП",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "uppKeyboard",
        "templateGroupToCreate": "organization",
        "currentTemplateDescription": {
            "details": "Вызов клавиатуры УПП"
        },
        "currentTemplateGroup": "organization",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText1}}\"}],[{\"url\":\"https://www.google.com/\",\"text\":\"{{callbackText2}}\"}]],\"uk\":{\"text\":\"УПП\",\"callbackText1\":\"Звітування\",\"callbackText2\":\"Дізнатись актуальну вкладку\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "uppKeyboard",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Вызов клавиатуры УПП",
        "templateDesciptionTextToEdit": "",
        "x": 570,
        "y": 400,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "8dcae7a0c9173223",
        "type": "comment",
        "z": "c6a1e1f8b3daa3fd",
        "name": "link",
        "info": "",
        "x": 670,
        "y": 200,
        "wires": []
    },
    {
        "id": "149c1d9d5de99201",
        "type": "comment",
        "z": "c6a1e1f8b3daa3fd",
        "name": "link",
        "info": "",
        "x": 670,
        "y": 260,
        "wires": []
    },
    {
        "id": "c10ec87182c482ce",
        "type": "comment",
        "z": "c6a1e1f8b3daa3fd",
        "name": "link",
        "info": "",
        "x": 670,
        "y": 320,
        "wires": []
    },
    {
        "id": "6ac5c3a5b5757ce2",
        "type": "comment",
        "z": "c6a1e1f8b3daa3fd",
        "name": "link",
        "info": "",
        "x": 670,
        "y": 380,
        "wires": []
    },
    {
        "id": "785d583631888326",
        "type": "link in",
        "z": "52027a4e320555d6",
        "name": "",
        "links": [
            "a708ceb2787df4d2"
        ],
        "x": 165,
        "y": 180,
        "wires": [
            [
                "47bb42bd80fe7b1a"
            ]
        ]
    },
    {
        "id": "47bb42bd80fe7b1a",
        "type": "function",
        "z": "52027a4e320555d6",
        "name": "post flow",
        "func": "msg.service = \"CustomerAPI\"\n\nmsg.method = \"POST\"\nmsg.url = `${msg.customerApi}/settings`;\nmsg.headers = {\n    'authorization': msg.customerApiKey,\n    'x-trace-id': msg.traceID,\n    'x-user-id': msg.userID\n}\n\nmsg.payload = {\n    \"flow\": \"callCenter\"\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 160,
        "wires": [
            [
                "cf1ec7dfdf680b18"
            ]
        ]
    },
    {
        "id": "cf1ec7dfdf680b18",
        "type": "subflow:36a123897fdb2173",
        "z": "52027a4e320555d6",
        "name": "",
        "env": [],
        "x": 440,
        "y": 160,
        "wires": [
            [
                "83750a8cc5e4dc27"
            ],
            []
        ]
    },
    {
        "id": "a06ce725aadae250",
        "type": "link in",
        "z": "52027a4e320555d6",
        "name": "",
        "links": [
            "28ad8d07088e8e3c"
        ],
        "x": 165,
        "y": 300,
        "wires": [
            [
                "73c65625a8d31bd8"
            ]
        ]
    },
    {
        "id": "83750a8cc5e4dc27",
        "type": "send-message",
        "z": "52027a4e320555d6",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "callCenter",
        "props": {
            "callCenter": []
        },
        "templateId": "callCenter",
        "templateIdToDelete": "",
        "templatesJsons": {
            "callCenter": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "Введи своє запитання",
                    "callback1": "Меню",
                    "callbackText1": "Назад до головного меню"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterLetter",
            "callCenterMessage",
            "callCenterReply",
            "campLetter",
            "editingKeyboard",
            "emailError",
            "eventAccept",
            "eventAction",
            "eventKeyboard",
            "eventLetter",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "lettersKeyboard",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "roomLetter",
            "schoolLetter",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Начало общения с администратором",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "callCenter",
        "templateGroupToCreate": "other",
        "currentTemplateDescription": {
            "details": "Начало общения с администратором"
        },
        "currentTemplateGroup": "other",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"inline\":[[{\"callback_data\":\"{{callback1}}\",\"text\":\"{{callbackText1}}\"}]],\"uk\":{\"text\":\"Введи своє запитання\",\"callback1\":\"Меню\",\"callbackText1\":\"Назад до головного меню\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "callCenter",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Начало общения с администратором",
        "templateDesciptionTextToEdit": "",
        "x": 620,
        "y": 160,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "73c65625a8d31bd8",
        "type": "send-message",
        "z": "52027a4e320555d6",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "callCenterMessage",
        "props": {
            "callCenterMessage": [
                {
                    "property": "msgId",
                    "value": "chatId",
                    "valueType": "msg"
                },
                {
                    "property": "userName",
                    "value": "userName",
                    "valueType": "msg"
                },
                {
                    "property": "textCustomer",
                    "value": "text",
                    "valueType": "msg"
                }
            ]
        },
        "templateId": "callCenterMessage",
        "templateIdToDelete": "",
        "templatesJsons": {
            "callCenterMessage": {
                "text": "{{text}}",
                "uk": {
                    "text": "id: {{msgId}}\nКористувач {{userName}} пише:\n{{textCustomer}}"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterLetter",
            "callCenterMessage",
            "callCenterReply",
            "campLetter",
            "editingKeyboard",
            "emailError",
            "eventAccept",
            "eventAction",
            "eventKeyboard",
            "eventLetter",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "lettersKeyboard",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "roomLetter",
            "schoolLetter",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "groupID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Запрос пользователя",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "callCenterMessage",
        "templateGroupToCreate": "callCenter",
        "currentTemplateDescription": {
            "details": "Запрос пользователя"
        },
        "currentTemplateGroup": "callCenter",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"id: {{msgId}}\\nКористувач {{userName}} пише:\\n{{textCustomer}}\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "callCenterMessage",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Запрос пользователя",
        "templateDesciptionTextToEdit": "",
        "x": 330,
        "y": 300,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "1ca018f8fc02e5a1",
        "type": "link in",
        "z": "52027a4e320555d6",
        "name": "",
        "links": [
            "5c24b52c26b32fb1"
        ],
        "x": 165,
        "y": 420,
        "wires": [
            [
                "b42d36c6310d3dbf"
            ]
        ]
    },
    {
        "id": "b42d36c6310d3dbf",
        "type": "function",
        "z": "52027a4e320555d6",
        "name": "",
        "func": "msg.chatId = msg.originalBody.message.reply_to_message.text.split(\"\\n\")[0].split(\" \")[1];\nmsg.userID = `${msg.companyId}_${msg.botId}_${msg.channel}_${msg.chatId}`;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 420,
        "wires": [
            [
                "3f2d87ce8e5de053"
            ]
        ]
    },
    {
        "id": "3f2d87ce8e5de053",
        "type": "send-message",
        "z": "52027a4e320555d6",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "callCenterReply",
        "props": {
            "": [],
            "callCenterReply": [
                {
                    "property": "reply",
                    "value": "originalBody.message.text",
                    "valueType": "msg"
                }
            ]
        },
        "templateId": "callCenterReply",
        "templateIdToDelete": "",
        "templatesJsons": {
            "callCenterReply": {
                "text": "{{text}}",
                "inline": [
                    [
                        {
                            "callback_data": "{{callback1}}",
                            "text": "{{callbackText1}}"
                        }
                    ]
                ],
                "uk": {
                    "text": "{{reply}}",
                    "callback1": "Меню",
                    "callbackText1": "Назад до головного меню"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterLetter",
            "callCenterMessage",
            "callCenterReply",
            "campLetter",
            "editingKeyboard",
            "emailError",
            "eventAccept",
            "eventAction",
            "eventKeyboard",
            "eventLetter",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "lettersKeyboard",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "roomLetter",
            "schoolLetter",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"{{reply}}\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Ответ администратора",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "callCenterReply",
        "templateGroupToCreate": "callCenter",
        "currentTemplateDescription": {
            "details": "Ответ администратора"
        },
        "currentTemplateGroup": "callCenter",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "",
        "jsonToEditType": "json",
        "templateIdToEdit": "",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "",
        "templateDesciptionTextToEdit": "",
        "x": 500,
        "y": 420,
        "wires": [
            [
                "d9097d8a37f74a87"
            ],
            [],
            []
        ]
    },
    {
        "id": "283e5217fccfad85",
        "type": "link in",
        "z": "52027a4e320555d6",
        "name": "",
        "links": [
            "e8c9920c705a8d6d",
            "3c79bdb48fd1d041"
        ],
        "x": 165,
        "y": 140,
        "wires": [
            [
                "47bb42bd80fe7b1a"
            ]
        ]
    },
    {
        "id": "6930589f057d447e",
        "type": "link in",
        "z": "52027a4e320555d6",
        "name": "",
        "links": [
            "b995e7888ec6c56d"
        ],
        "x": 165,
        "y": 360,
        "wires": [
            [
                "d39caad3a22efe63"
            ]
        ]
    },
    {
        "id": "d39caad3a22efe63",
        "type": "send-message",
        "z": "52027a4e320555d6",
        "isTimerUsed": false,
        "language": "lang",
        "languageType": "msg",
        "messageOption": "",
        "messageID": "",
        "messageIDType": "str",
        "name": "callCenterLetter",
        "props": {
            "callCenterLetter": [
                {
                    "property": "msgId",
                    "value": "chatId",
                    "valueType": "msg"
                },
                {
                    "property": "userName",
                    "value": "userName",
                    "valueType": "msg"
                },
                {
                    "property": "letterType",
                    "value": "letterType",
                    "valueType": "msg"
                },
                {
                    "property": "textCustomer",
                    "value": "text",
                    "valueType": "msg"
                }
            ]
        },
        "templateId": "callCenterLetter",
        "templateIdToDelete": "",
        "templatesJsons": {
            "callCenterLetter": {
                "text": "{{text}}",
                "uk": {
                    "text": "id: {{msgId}}\nКористувач {{userName}} запитує {{letterType}}:\n{{textCustomer}}"
                }
            }
        },
        "templatesList": [
            " trainingCenter",
            "askEmail",
            "askFirstName",
            "askLastName",
            "askPhone",
            "bookingAdress",
            "bookingKeyboard",
            "callCenter",
            "callCenterLetter",
            "callCenterMessage",
            "callCenterReply",
            "campLetter",
            "editingKeyboard",
            "emailError",
            "eventAccept",
            "eventAction",
            "eventKeyboard",
            "eventLetter",
            "eventMessage",
            "firstNameError",
            "fundraising",
            "hotkevich",
            "kotlyarevsky",
            "kotsilovsky",
            "lastNameError",
            "lettersKeyboard",
            "mainKeyboard",
            "menuKeyboard",
            "organizatonKeyboard",
            "other",
            "phoneError",
            "roomLetter",
            "schoolLetter",
            "sheptytsky",
            "success",
            "test",
            "tyutyunnik",
            "upnKeyboard",
            "uppKeyboard",
            "upyuKeyboard",
            "uspKeyboard",
            "welcome",
            "welcome2",
            "welcomeMessage",
            "zhytomyr"
        ],
        "userID": "userID",
        "userIDType": "msg",
        "traceID": "traceID",
        "traceIDType": "msg",
        "useTimer": false,
        "timer": "",
        "outputs": 3,
        "jsonToCreate": "{\"text\":\"{{text}}\",\"en\":{\"text\":\"hello message\"}}",
        "jsonToCreateType": "json",
        "templateDescriptionButtonsContainerToCreate": [],
        "templateDesciptionDetailsToCreate": "Отправить лист администраторам",
        "templateDesciptionTextToCreate": "",
        "templateIdToCreate": "callCenterLetter",
        "templateGroupToCreate": "callCenter",
        "currentTemplateDescription": {
            "details": "Отправить лист администраторам"
        },
        "currentTemplateGroup": "callCenter",
        "currentTemplateTimer": "",
        "currentTemplateType": "standard",
        "jsonToEdit": "{\"text\":\"{{text}}\",\"uk\":{\"text\":\"id: {{msgId}}\\nКористувач {{userName}} запитує {{letterType}}:\\n{{textCustomer}}\"}}",
        "jsonToEditType": "json",
        "templateIdToEdit": "callCenterLetter",
        "templateDescriptionButtonsContainerToEdit": [],
        "templateDesciptionDetailsToEdit": "Отправить лист администраторам",
        "templateDesciptionTextToEdit": "",
        "x": 320,
        "y": 360,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "d9097d8a37f74a87",
        "type": "function",
        "z": "52027a4e320555d6",
        "name": "post flow",
        "func": "msg.service = \"CustomerAPI\"\n\nmsg.method = \"POST\"\nmsg.url = `${msg.customerApi}/settings`;\nmsg.headers = {\n    'authorization': msg.customerApiKey,\n    'x-trace-id': msg.traceID,\n    'x-user-id': msg.userID\n}\n\nmsg.payload = {\n    \"flow\": \"callCenter\"\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 420,
        "wires": [
            [
                "b72aea228e19c6f3",
                "b72aea228e19c6f3"
            ]
        ]
    },
    {
        "id": "b72aea228e19c6f3",
        "type": "subflow:36a123897fdb2173",
        "z": "52027a4e320555d6",
        "name": "",
        "env": [],
        "x": 900,
        "y": 420,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "5bdc172af5206ca7",
        "type": "inject",
        "z": "ca276633d0ab2403",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 160,
        "wires": [
            [
                "15617a585bef0d8d"
            ]
        ]
    },
    {
        "id": "a0e53dc3db5bb547",
        "type": "function",
        "z": "ca276633d0ab2403",
        "name": "put null state",
        "func": "msg.service = \"CustomerAPI\"\n\nmsg.method = \"PUT\"\nmsg.url = `${msg.customerApi}/customers`;\nmsg.headers = {\n    'authorization': msg.customerApiKey,\n    'x-trace-id': msg.traceID,\n    'x-user-id': msg.userID\n}\n\nmsg.payload = {\n    \"state\": null\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 160,
        "wires": [
            [
                "893f694f43b5616a"
            ]
        ]
    },
    {
        "id": "893f694f43b5616a",
        "type": "subflow:36a123897fdb2173",
        "z": "ca276633d0ab2403",
        "name": "",
        "env": [],
        "x": 780,
        "y": 160,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "15617a585bef0d8d",
        "type": "change",
        "z": "ca276633d0ab2403",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "userID",
                "pt": "msg",
                "to": "43_6_TG_668843384",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "traceID",
                "pt": "msg",
                "to": "246a34cb-ba9a-489e-bf90-31b33473d024",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 160,
        "wires": [
            [
                "327cc16ca36ed4ba"
            ]
        ]
    },
    {
        "id": "327cc16ca36ed4ba",
        "type": "function",
        "z": "ca276633d0ab2403",
        "name": "env",
        "func": "\nmsg.version = \"/v1\";\n\nmsg.messageApi = env.get(\"MESSAGES_API_URL\")+msg.version;\nmsg.messageApiKey = env.get(\"MESSAGES_API_KEY\");\nmsg.customerApi =env.get(\"CUSTOMER_API_URL\")+msg.version;\nmsg.customerApiKey = env.get(\"CUSTOMER_API_KEY\");\n\nmsg.lang = \"uk\";\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 160,
        "wires": [
            [
                "a0e53dc3db5bb547"
            ]
        ]
    },
    {
        "id": "e732f5715bc607d5",
        "type": "inject",
        "z": "ca276633d0ab2403",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 220,
        "wires": [
            [
                "b5f685d2b5c1c118"
            ]
        ]
    },
    {
        "id": "fb8274bf69e398fd",
        "type": "function",
        "z": "ca276633d0ab2403",
        "name": "post null flow",
        "func": "msg.service = \"CustomerAPI\"\n\nmsg.method = \"POST\"\nmsg.url = `${msg.customerApi}/settings`;\nmsg.headers = {\n    'authorization': msg.customerApiKey,\n    'x-trace-id': msg.traceID,\n    'x-user-id': msg.userID\n}\n\nmsg.payload = {\n    \"flow\": null\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 220,
        "wires": [
            [
                "a5b50fd913e14da8"
            ]
        ]
    },
    {
        "id": "a5b50fd913e14da8",
        "type": "subflow:36a123897fdb2173",
        "z": "ca276633d0ab2403",
        "name": "",
        "env": [],
        "x": 780,
        "y": 220,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "b5f685d2b5c1c118",
        "type": "change",
        "z": "ca276633d0ab2403",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "userID",
                "pt": "msg",
                "to": "43_6_TG_668843384",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "traceID",
                "pt": "msg",
                "to": "246a34cb-ba9a-489e-bf90-31b33473d024",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 220,
        "wires": [
            [
                "00b814af044345f1"
            ]
        ]
    },
    {
        "id": "00b814af044345f1",
        "type": "function",
        "z": "ca276633d0ab2403",
        "name": "env",
        "func": "\nmsg.version = \"/v1\";\n\nmsg.messageApi = env.get(\"MESSAGES_API_URL\")+msg.version;\nmsg.messageApiKey = env.get(\"MESSAGES_API_KEY\");\nmsg.customerApi =env.get(\"CUSTOMER_API_URL\")+msg.version;\nmsg.customerApiKey = env.get(\"CUSTOMER_API_KEY\");\n\nmsg.lang = \"uk\";\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 220,
        "wires": [
            [
                "fb8274bf69e398fd"
            ]
        ]
    },
    {
        "id": "30e08367cb23a9ae",
        "type": "function",
        "z": "ca276633d0ab2403",
        "name": "",
        "func": "msg.service = \"CustomerAPI\"\nmsg.method = \"POST\"\nmsg.url = `${msg.customerApi}/customers`;\nmsg.headers = {\n    'authorization': msg.customerApiKey,\n    'x-trace-id': msg.traceID,\n    'x-user-id': msg.userID\n}\n\nmsg.payload = {\n    \"chatId\": \"-704606989\",\n    \"channel\": \"TG\",\n    \"language\": \"uk\",\n    \"companyId\": \"43\",\n    \"botId\": \"6\"\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 280,
        "wires": [
            [
                "398f968fad4a35e6"
            ]
        ]
    },
    {
        "id": "4ed07e1a93dca7bd",
        "type": "inject",
        "z": "ca276633d0ab2403",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 280,
        "wires": [
            [
                "739fbca70f4acfaa"
            ]
        ]
    },
    {
        "id": "398f968fad4a35e6",
        "type": "subflow:36a123897fdb2173",
        "z": "ca276633d0ab2403",
        "name": "",
        "env": [],
        "x": 780,
        "y": 280,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "739fbca70f4acfaa",
        "type": "change",
        "z": "ca276633d0ab2403",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "userID",
                "pt": "msg",
                "to": "43_6_TG_-704606989",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "traceID",
                "pt": "msg",
                "to": "246a34cb-ba9a-489e-bf90-31b33473d024",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 280,
        "wires": [
            [
                "8e061ebcbde8ad4d"
            ]
        ]
    },
    {
        "id": "8e061ebcbde8ad4d",
        "type": "function",
        "z": "ca276633d0ab2403",
        "name": "env",
        "func": "\nmsg.version = \"/v1\";\n\nmsg.messageApi = env.get(\"MESSAGES_API_URL\")+msg.version;\nmsg.messageApiKey = env.get(\"MESSAGES_API_KEY\");\nmsg.customerApi =env.get(\"CUSTOMER_API_URL\")+msg.version;\nmsg.customerApiKey = env.get(\"CUSTOMER_API_KEY\");\n\nmsg.lang = \"uk\";\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 280,
        "wires": [
            [
                "30e08367cb23a9ae"
            ]
        ]
    }
]